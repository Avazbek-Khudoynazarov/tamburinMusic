import{u as x}from"./index-B_i2wJma.js";import{ea as p,r as u,ad as j,D as e,a5 as m,V as d,bH as S,F as R,X as P,Y as V,dD as D,Z as L,T as k,W as q}from"./index-DJm73Gd8.js";import{z as r}from"./index-DXqQCM1T.js";import{d as C,f as E,D as z}from"./ko-DBbRYMOz.js";import"./image-DPed605N.js";import{s as w}from"./schema-helper-B8SOemTF.js";import{S as o}from"./html-to-markdown-h9-3Gqz-.js";import{u as T,F as l}from"./fields-DRFNYTBH.js";import{t as F,F as I}from"./form-provider-Bv2QLm_X.js";import{D as A}from"./DialogTitle-DFqHFKNV.js";import{L as B}from"./LoadingButton-8OnUjDzw.js";const b={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1};function J(){const i=j.product.list,{data:t,isLoading:s,error:a,isValidating:n}=x(i,p,b);return u.useMemo(()=>({products:(t==null?void 0:t.products)||[],productsLoading:s,productsError:a,productsValidating:n,productsEmpty:!s&&!(t!=null&&t.products.length)}),[t==null?void 0:t.products,a,s,n])}function K(i){const t=i?[j.product.details,{params:{productId:i}}]:"",{data:s,isLoading:a,error:n,isValidating:c}=x(t,p,b);return u.useMemo(()=>({product:s==null?void 0:s.product,productLoading:a,productError:n,productValidating:c}),[s==null?void 0:s.product,n,a,c])}function U(i){const t=i?[j.product.search,{params:{query:i}}]:"",{data:s,isLoading:a,error:n,isValidating:c}=x(t,p,{...b,keepPreviousData:!0});return u.useMemo(()=>({searchResults:(s==null?void 0:s.results)||[],searchLoading:a,searchError:n,searchValidating:c,searchEmpty:!a&&!(s!=null&&s.results.length)}),[s==null?void 0:s.results,n,a,c])}r.object({name:r.string().min(1,{message:"Name is required!"}),description:w.editor({message:{required_error:"Description is required!"}}),images:w.files({message:{required_error:"Images is required!"}}),code:r.string().min(1,{message:"Product code is required!"}),sku:r.string().min(1,{message:"Product sku is required!"}),quantity:r.number().min(1,{message:"Quantity is required!"}),colors:r.string().array().nonempty({message:"Choose at least one option!"}),sizes:r.string().array().nonempty({message:"Choose at least one option!"}),tags:r.string().array().min(2,{message:"Must have at least 2 items!"}),gender:r.string().array().nonempty({message:"Choose at least one option!"}),price:r.number().min(1,{message:"Price should not be $0.00"}),category:r.string(),priceSale:r.number(),subDescription:r.string(),taxes:r.number(),saleLabel:r.object({enabled:r.boolean(),content:r.string()}),newLabel:r.object({enabled:r.boolean(),content:r.string()})});function ee({sx:i,amount:t=16,...s}){return[...Array(t)].map((a,n)=>e.jsxs(S,{variant:"outlined",sx:{borderRadius:2,...i},...s,children:[e.jsx(d,{sx:{p:1},children:e.jsx(o,{sx:{pt:"100%"}})}),e.jsxs(d,{spacing:2,sx:{p:3,pt:2},children:[e.jsx(o,{sx:{width:.5,height:16}}),e.jsxs(d,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(d,{direction:"row",children:[e.jsx(o,{variant:"circular",sx:{width:16,height:16}}),e.jsx(o,{variant:"circular",sx:{width:16,height:16}}),e.jsx(o,{variant:"circular",sx:{width:16,height:16}})]}),e.jsx(o,{sx:{width:40,height:16}})]})]})]},n))}function se({...i}){return e.jsxs(m,{container:!0,spacing:8,...i,children:[e.jsx(m,{xs:12,md:6,lg:7,children:e.jsx(o,{sx:{pt:"100%"}})}),e.jsx(m,{xs:12,md:6,lg:5,children:e.jsxs(d,{spacing:3,children:[e.jsx(o,{sx:{height:16,width:48}}),e.jsx(o,{sx:{height:16,width:80}}),e.jsx(o,{sx:{height:16,width:.5}}),e.jsx(o,{sx:{height:16,width:.75}}),e.jsx(o,{sx:{height:120}})]})}),e.jsx(m,{xs:12,children:e.jsx(d,{direction:"row",alignItems:"center",children:[...Array(3)].map((t,s)=>e.jsxs(d,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(o,{variant:"circular",sx:{width:80,height:80}}),e.jsx(o,{sx:{height:16,width:160}}),e.jsx(o,{sx:{height:16,width:80}})]},s))})})]})}function re({totalItems:i}){return e.jsx(R,{component:P,href:V.product.checkout,sx:{right:0,top:112,zIndex:999,display:"flex",cursor:"pointer",position:"fixed",color:"text.primary",borderTopLeftRadius:16,borderBottomLeftRadius:16,bgcolor:"background.paper",padding:t=>t.spacing(1,3,1,2),boxShadow:t=>t.customShadows.dropdown,transition:t=>t.transitions.create(["opacity"]),"&:hover":{opacity:.72}},children:e.jsx(D,{showZero:!0,badgeContent:i,color:"error",max:99,children:e.jsx(L,{icon:"solar:cart-3-bold",width:24})})})}const M=r.object({rating:r.number().min(1,"Rating must be greater than or equal to 1!"),name:r.string().min(1,{message:"Name is required!"}),review:r.string().min(1,{message:"Review is required!"}),email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"})});function te({onClose:i,...t}){const s={rating:0,review:"",name:"",email:""},a=T({mode:"all",resolver:F(M),defaultValues:s}),{reset:n,handleSubmit:c,formState:{isSubmitting:h}}=a,f=c(async y=>{try{await new Promise(g=>setTimeout(g,500)),n(),i(),console.info("DATA",y)}catch(g){console.error(g)}}),v=u.useCallback(()=>{i(),n()},[i,n]);return e.jsx(C,{onClose:i,...t,children:e.jsxs(I,{methods:a,onSubmit:f,children:[e.jsx(A,{children:" Add Review "}),e.jsxs(E,{children:[e.jsxs("div",{children:[e.jsx(k,{variant:"body2",sx:{mb:1},children:"Your review about this product:"}),e.jsx(l.Rating,{name:"rating"})]}),e.jsx(l.Text,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(l.Text,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(l.Text,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(z,{children:[e.jsx(q,{color:"inherit",variant:"outlined",onClick:v,children:"Cancel"}),e.jsx(B,{type:"submit",variant:"contained",loading:h,children:"Post"})]})]})})}export{re as C,ee as P,J as a,te as b,se as c,K as d,U as u};
