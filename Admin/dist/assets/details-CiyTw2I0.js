import{D as d,V as B,dF as yo,Z as U,T as te,F as fe,L as Ut,aj as Co,ee as Po,dC as So,W as Ke,a6 as mt,ah as Io,r as n,Y as pt,$ as Xe,cO as _o,a0 as lt,X as Mo,a5 as ct,N as Lo,ab as To,R as ko}from"./index-DJm73Gd8.js";import{u as Ro}from"./use-params-BytqtBag.js";import{b as No,c as Oo,C as jo,d as Do}from"./product-review-new-form-Dg_5Krwz.js";import{L as Yt}from"./label-Devs2yXx.js";import{L as Fo,I as Ao}from"./image-DPed605N.js";import{C as $o}from"./color-preview-JllbmsmC.js";import{M as Vo}from"./ko-DBbRYMOz.js";import"./html-to-markdown-h9-3Gqz-.js";import{I as zo,u as Wo}from"./incrementer-button-C0DdImHt.js";import{C as Ho,a as Zo,b as Bo}from"./carousel-progress-bar-Dj7SoJA1.js";import{u as Uo}from"./use-tabs-B1gcKklP.js";import{E as Yo}from"./empty-content-C5UHTerm.js";import{C as Xo}from"./custom-breadcrumbs-BsaNbwZB.js";import{d as vt,c as Xt}from"./format-number-BdgaU6hH.js";import{A as qo}from"./Avatar-CHZSgeuZ.js";import{R as Pt}from"./Rating-CEq9eddU.js";import{P as Ko,p as Go}from"./Pagination-DbFHjtRs.js";import{u as Qo,F as Jo,C as er}from"./fields-DRFNYTBH.js";import{F as tr}from"./form-provider-Bv2QLm_X.js";import{f as nr}from"./TextField-B_joUv90.js";import{u as or,b as rr}from"./carousel-arrow-buttons-DEzwyWhx.js";import{M as sr}from"./markdown-D0aLXFET.js";import{C as ir}from"./Card-DCic7xzO.js";import{T as lr,a as cr}from"./Tabs-BcQ-S5hI.js";import"./index-B_i2wJma.js";import"./index-DXqQCM1T.js";import"./schema-helper-B8SOemTF.js";import"./DialogTitle-DFqHFKNV.js";import"./LoadingButton-8OnUjDzw.js";import"./ListContext-CDIiNrC7.js";import"./AuthService-foVeZrRB.js";import"./InputAdornment-B7kdQGsa.js";import"./visuallyHidden-Dan1xhjv.js";import"./LastPage-Cd_46hef.js";import"./DatePicker-CkfG7Gz3.js";import"./listItemButtonClasses-QLc47q-U.js";import"./KeyboardArrowRight-S08dGk5c.js";function ar({review:e}){var o;const t=d.jsxs(B,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[d.jsx(qo,{src:e.avatarUrl,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),d.jsx(Fo,{primary:e.name,secondary:yo(e.postedAt),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),r=d.jsxs(B,{spacing:1,flexGrow:1,children:[d.jsx(Pt,{size:"small",value:e.rating,precision:.1,readOnly:!0}),e.isPurchased&&d.jsxs(B,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[d.jsx(U,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),d.jsx(te,{variant:"body2",children:e.comment}),!!((o=e.attachments)!=null&&o.length)&&d.jsx(B,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:e.attachments.map(s=>d.jsx(fe,{component:"img",alt:s,src:s,sx:{width:64,height:64,borderRadius:1.5}},s))}),d.jsxs(B,{direction:"row",spacing:2,sx:{pt:1.5},children:[d.jsxs(Ut,{disableRipple:!0,sx:{gap:.5,typography:"caption"},children:[d.jsx(U,{icon:"solar:like-outline",width:16}),"123"]}),d.jsxs(Ut,{disableRipple:!0,sx:{gap:.5,typography:"caption"},children:[d.jsx(U,{icon:"solar:dislike-outline",width:16}),"34"]})]})]});return d.jsxs(B,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[t,r]})}function ur({reviews:e}){return d.jsxs(d.Fragment,{children:[e.map(t=>d.jsx(ar,{review:t},t.id)),d.jsx(Ko,{count:10,sx:{mx:"auto",[`& .${Go.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}function dr({totalRatings:e,totalReviews:t,ratings:r=[],reviews:o=[]}){const s=Co(),i=Po(r,u=>u.starCount),l=d.jsxs(B,{spacing:1,alignItems:"center",justifyContent:"center",children:[d.jsx(te,{variant:"subtitle2",children:"Average rating"}),d.jsxs(te,{variant:"h2",children:[e,"/5"]}),d.jsx(Pt,{readOnly:!0,value:e,precision:.1}),d.jsxs(te,{variant:"caption",sx:{color:"text.secondary"},children:["(",vt(t)," reviews)"]})]}),c=d.jsx(B,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:u=>({md:`dashed 1px ${u.vars.palette.divider}`}),borderRight:u=>({md:`dashed 1px ${u.vars.palette.divider}`})},children:r.slice(0).reverse().map(u=>d.jsxs(B,{direction:"row",alignItems:"center",children:[d.jsx(te,{variant:"subtitle2",component:"span",sx:{width:42},children:u.name}),d.jsx(So,{color:"inherit",variant:"determinate",value:u.starCount/i*100,sx:{mx:2,flexGrow:1}}),d.jsx(te,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:vt(u.reviewCount)})]},u.name))}),a=d.jsx(B,{alignItems:"center",justifyContent:"center",children:d.jsx(Ke,{size:"large",variant:"soft",color:"inherit",onClick:s.onTrue,startIcon:d.jsx(U,{icon:"solar:pen-bold"}),children:"Write your review"})});return d.jsxs(d.Fragment,{children:[d.jsxs(fe,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[l,c,a]}),d.jsx(mt,{sx:{borderStyle:"dashed"}}),d.jsx(ur,{reviews:o}),d.jsx(No,{open:s.value,onClose:s.onFalse})]})}function fr({items:e,product:t,onAddCart:r,onGotoStep:o,disableActions:s,...i}){const l=Io(),{id:c,name:a,sizes:u,price:f,coverUrl:h,colors:b,newLabel:x,available:m,priceSale:v,saleLabel:p,totalRatings:S,totalReviews:C,inventoryType:g,subDescription:k}=t,y=!!(e!=null&&e.length)&&e.map(W=>W.id).includes(c),_=!!(e!=null&&e.length)&&e.filter(W=>W.id===c).map(W=>W.quantity)[0]>=m,T={id:c,name:a,coverUrl:h,available:m,price:f,colors:b[0],size:u[4],quantity:m<1?0:1},F=Qo({defaultValues:T}),{reset:E,watch:M,control:O,setValue:A,handleSubmit:V}=F,w=M();n.useEffect(()=>{t&&E(T)},[t]);const P=V(async W=>{try{y||r==null||r({...W,colors:[w.colors],subtotal:W.price*W.quantity}),o==null||o(0),l.push(pt.product.checkout)}catch(pe){console.error(pe)}}),R=n.useCallback(()=>{try{r==null||r({...w,colors:[w.colors],subtotal:w.price*w.quantity})}catch(W){console.error(W)}},[r,w]),j=d.jsxs(fe,{sx:{typography:"h5"},children:[v&&d.jsx(fe,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:Xt(v)}),Xt(f)]}),z=d.jsxs(B,{direction:"row",spacing:3,justifyContent:"center",children:[d.jsxs(Xe,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[d.jsx(U,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),d.jsxs(Xe,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[d.jsx(U,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),d.jsxs(Xe,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[d.jsx(U,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),G=d.jsxs(B,{direction:"row",children:[d.jsx(te,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),d.jsx(er,{name:"colors",control:O,render:({field:W})=>d.jsx($o,{colors:b,selected:W.value,onSelectColor:pe=>W.onChange(pe),limit:4})})]}),ne=d.jsxs(B,{direction:"row",children:[d.jsx(te,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),d.jsx(Jo.Select,{name:"size",size:"small",helperText:d.jsx(Xe,{underline:"always",color:"textPrimary",children:"Size chart"}),sx:{maxWidth:88,[`& .${nr.root}`]:{mx:0,mt:1,textAlign:"right"}},children:u.map(W=>d.jsx(Vo,{value:W,children:W},W))})]}),N=d.jsxs(B,{direction:"row",children:[d.jsx(te,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),d.jsxs(B,{spacing:1,children:[d.jsx(zo,{name:"quantity",quantity:w.quantity,disabledDecrease:w.quantity<=1,disabledIncrease:w.quantity>=m,onIncrease:()=>A("quantity",w.quantity+1),onDecrease:()=>A("quantity",w.quantity-1)}),d.jsxs(te,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",m]})]})]}),Q=d.jsxs(B,{direction:"row",spacing:2,children:[d.jsx(Ke,{fullWidth:!0,disabled:_||s,size:"large",color:"warning",variant:"contained",startIcon:d.jsx(U,{icon:"solar:cart-plus-bold",width:24}),onClick:R,sx:{whiteSpace:"nowrap"},children:"Add to cart"}),d.jsx(Ke,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:s,children:"Buy now"})]}),Ze=d.jsx(te,{variant:"body2",sx:{color:"text.secondary"},children:k}),Be=d.jsxs(B,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[d.jsx(Pt,{size:"small",value:S,precision:.1,readOnly:!0,sx:{mr:1}}),`(${vt(C)} reviews)`]}),Ie=(x.enabled||p.enabled)&&d.jsxs(B,{direction:"row",alignItems:"center",spacing:1,children:[x.enabled&&d.jsx(Yt,{color:"info",children:x.content}),p.enabled&&d.jsx(Yt,{color:"error",children:p.content})]}),_e=d.jsx(fe,{component:"span",sx:{typography:"overline",color:g==="out of stock"&&"error.main"||g==="low stock"&&"warning.main"||"success.main"},children:g});return d.jsx(tr,{methods:F,onSubmit:P,children:d.jsxs(B,{spacing:3,sx:{pt:3},...i,children:[d.jsxs(B,{spacing:2,alignItems:"flex-start",children:[Ie,_e,d.jsx(te,{variant:"h5",children:a}),Be,j,Ze]}),d.jsx(mt,{sx:{borderStyle:"dashed"}}),G,ne,N,d.jsx(mt,{sx:{borderStyle:"dashed"}}),Q,z]})})}const Cn="carousel",Je="controller",hr="navigation",mr="no-scroll",St="portal",pr="root",Pn="toolbar",qt="captions",Ae="fullscreen",Kt="slideshow",$e="thumbnails",Gt="zoom",Le="loading",xt="playing",De="error",Fe="complete",vr="placeholder",Ve=e=>`active-slide-${e}`,Sn=Ve(Le),In=Ve(xt),xr=Ve(De),_n=Ve(Fe),Mn="fullsize",Ee="flex_center",gr="no_scroll",Ln="no_scroll_padding",It="slide_wrapper",br="slide_wrapper_interactive",he="prev",me="next",gt="swipe",ke="close",Tn="onPointerDown",kn="onPointerMove",Rn="onPointerUp",Nn="onPointerLeave",On="onPointerCancel",_t="onKeyDown",Er="onKeyUp",Mt="onWheel",wr="Escape",yr="ArrowLeft",Cr="ArrowRight",Pr="button",Ge="icon",jn="contain",Qt="cover",Dn="Unknown action type",Fn="yarl__";function q(...e){return[...e].filter(Boolean).join(" ")}function L(e){return`${Fn}${e}`}function $(e){return`--${Fn}${e}`}function we(e,t){return`${e}${t?`_${t}`:""}`}function ye(e){return t=>we(e,t)}function Sr(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Re(...e){return()=>{e.forEach(t=>{t()})}}function re(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function Lt(){return typeof window<"u"}function Tt(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function Ce(e){return e.type===void 0||e.type==="image"}function kt(e,t){return e.imageFit===Qt||e.imageFit!==jn&&t===Qt}function et(e){return typeof e=="string"?Number.parseInt(e,10):e}function Qe(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=et(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function Ir(e,t){const r=Qe(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function _r(){return(Lt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function An(e,t){return t>0?(e%t+t)%t:0}function Rt(e){return e.length>0}function Nt(e,t){return e[An(t,e.length)]}function bt(e,t){return Rt(e)?Nt(e,t):void 0}function $n(e){return Ce(e)?e.src:void 0}function ze(e,t,r){if(!r)return e;const{buttons:o,...s}=e,i=o.findIndex(c=>c===t),l=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(i>=0){const c=[...o];return c.splice(i,1,l),{buttons:c,...s}}return{buttons:[l,...o],...s}}function Vn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const Et={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[ke]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:jn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function se(e,t){return{name:e,component:t}}function Y(e,t){return{module:e,children:t}}function zn(e,t,r){return e.module.name===t?r(e):e.children?[Y(e.module,e.children.flatMap(o=>{var s;return(s=zn(o,t,r))!==null&&s!==void 0?s:[]}))]:[e]}function Me(e,t,r){return e.flatMap(o=>{var s;return(s=zn(o,t,r))!==null&&s!==void 0?s:[]})}function Mr(e,t=[],r=[]){let o=e;const s=x=>{const m=[...o];for(;m.length>0;){const v=m.pop();if((v==null?void 0:v.module.name)===x)return!0;v!=null&&v.children&&m.push(...v.children)}return!1},i=(x,m)=>{if(x===""){o=[Y(m,o)];return}o=Me(o,x,v=>[Y(m,[v])])},l=(x,m)=>{o=Me(o,x,v=>[Y(v.module,[Y(m,v.children)])])},c=(x,m,v)=>{o=Me(o,x,p=>{var S;return[Y(p.module,[...v?[Y(m)]:[],...(S=p.children)!==null&&S!==void 0?S:[],...v?[]:[Y(m)]])]})},a=(x,m,v)=>{o=Me(o,x,p=>[...v?[Y(m)]:[],p,...v?[]:[Y(m)]])},u=x=>{l(Je,x)},f=(x,m)=>{o=Me(o,x,v=>[Y(m,v.children)])},h=x=>{o=Me(o,x,m=>m.children)},b=x=>{r.push(x)};return t.forEach(x=>{x({contains:s,addParent:i,append:l,addChild:c,addSibling:a,addModule:u,replace:f,remove:h,augment:b})}),{config:o,augmentation:x=>r.reduce((m,v)=>v(m),x)}}const Wn=n.createContext(null),We=re("useDocument","DocumentContext",Wn);function Lr({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=i=>{var l;return((l=i||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:i=>{var l;return((l=o(i))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return n.createElement(Wn.Provider,{value:r},t)}const Hn=n.createContext(null),Pe=re("useEvents","EventsContext",Hn);function Tr({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(l,c)=>{var a;(a=t[l])===null||a===void 0||a.splice(0,t[l].length,...t[l].filter(u=>u!==c))};return{publish:(...[l,c])=>{var a;(a=t[l])===null||a===void 0||a.forEach(u=>u(c))},subscribe:(l,c)=>(t[l]||(t[l]=[]),t[l].push(c),()=>o(l,c)),unsubscribe:o}},[t]);return n.createElement(Hn.Provider,{value:r},e)}const Zn=n.createContext(null),Z=re("useLightboxProps","LightboxPropsContext",Zn);function Bn({children:e,...t}){return n.createElement(Zn.Provider,{value:t},e)}const Un=n.createContext(null),ae=re("useLightboxState","LightboxStateContext",Un),Yn=n.createContext(null),kr=re("useLightboxDispatch","LightboxDispatchContext",Yn);function Rr(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,s=e.globalIndex+o,i=An(s,r.length),l=bt(r,i),c=o||t.duration?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:i,globalIndex:s,currentSlide:l,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:bt(t.slides,t.index)}:e;default:throw new Error(Dn)}}function Nr({slides:e,index:t,children:r}){const[o,s]=n.useReducer(Rr,{slides:e,currentIndex:t,globalIndex:t,currentSlide:bt(e,t)});n.useEffect(()=>{s({type:"update",slides:e,index:t})},[e,t]);const i=n.useMemo(()=>({...o,state:o,dispatch:s}),[o,s]);return n.createElement(Yn.Provider,{value:s},n.createElement(Un.Provider,{value:i},r))}const Xn=n.createContext(null),He=re("useTimeouts","TimeoutsContext",Xn);function Or({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=l=>{t.splice(0,t.length,...t.filter(c=>c!==l))};return{setTimeout:(l,c)=>{const a=window.setTimeout(()=>{o(a),l()},c);return t.push(a),a},clearTimeout:l=>{l!==void 0&&(o(l),window.clearTimeout(l))}}},[t]);return n.createElement(Xn.Provider,{value:r},e)}const Se=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:s,onClick:i,style:l,...c},a){const{styles:u,labels:f}=Z(),h=Sr(f,t);return n.createElement("button",{ref:a,type:"button",title:h,"aria-label":h,className:q(L(Pr),r),onClick:i,style:{...l,...u.button},...c},s?s():n.createElement(o,{className:L(Ge),style:u.icon}))});function qn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function ee(e,t){return qn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Kn(e,t){return qn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const jr=ee("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Dr=ee("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Fr=ee("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Ar=ee("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),$r=ee("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ce=Lt()?n.useLayoutEffect:n.useEffect;function Ot(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const s=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(s==null?void 0:s.matches);const i=l=>t(l.matches);return(o=s==null?void 0:s.addEventListener)===null||o===void 0||o.call(s,"change",i),()=>{var l;return(l=s==null?void 0:s.removeEventListener)===null||l===void 0?void 0:l.call(s,"change",i)}},[]),e}function Vr(e){let t=0,r=0,o=0;const i=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(i){const l=i[1].split(",").map(et);l.length===6?(t=l[4],r=l[5]):l.length===16&&(t=l[12],r=l[13],o=l[14])}return{x:t,y:r,z:o}}function wt(e,t){const r=n.useRef(),o=n.useRef(),s=Ot();return ce(()=>{var i,l,c;if(e.current&&r.current!==void 0&&!s){const{keyframes:a,duration:u,easing:f,onfinish:h}=t(r.current,e.current.getBoundingClientRect(),Vr(e.current))||{};if(a&&u){(i=o.current)===null||i===void 0||i.cancel(),o.current=void 0;try{o.current=(c=(l=e.current).animate)===null||c===void 0?void 0:c.call(l,a,{duration:u,easing:f})}catch(b){console.error(b)}o.current&&(o.current.onfinish=()=>{o.current=void 0,h==null||h()})}}r.current=void 0}),{prepareAnimation:i=>{r.current=i},isAnimationPlaying:()=>{var i;return((i=o.current)===null||i===void 0?void 0:i.playState)==="running"}}}function jt(){const e=n.useRef(null),t=n.useRef(),[r,o]=n.useState();return{setContainerRef:n.useCallback(i=>{e.current=i,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(i){const c=window.getComputedStyle(i),a=u=>parseFloat(u)||0;o({width:Math.round(i.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(i.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else o(void 0)};l(),i&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(i))},[]),containerRef:e,containerRect:r}}function qe(){const e=n.useRef(),{setTimeout:t,clearTimeout:r}=He();return n.useCallback((o,s)=>{r(e.current),e.current=t(o,s>0?s:0)},[t,r])}function D(e){const t=n.useRef(e);return ce(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Jt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function yt(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Jt(e,r),Jt(t,r)},[e,t])}function Gn(e,t=!1){const r=n.useRef();ce(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),s=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:s}}function tt(){const[e,t]=n.useState(!1);return ce(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Qn(){const[e]=n.useState({}),t=n.useCallback((s,i)=>{var l;(l=e[s])===null||l===void 0||l.forEach(c=>{i.isPropagationStopped()||c(i)})},[e]),r=n.useMemo(()=>({onPointerDown:s=>t(Tn,s),onPointerMove:s=>t(kn,s),onPointerUp:s=>t(Rn,s),onPointerLeave:s=>t(Nn,s),onPointerCancel:s=>t(On,s),onKeyDown:s=>t(_t,s),onKeyUp:s=>t(Er,s),onWheel:s=>t(Mt,s)}),[t]),o=n.useCallback((s,i)=>(e[s]||(e[s]=[]),e[s].unshift(i),()=>{const l=e[s];l&&l.splice(0,l.length,...l.filter(c=>c!==i))}),[e]);return{registerSensors:r,subscribeSensors:o}}function en(e,t){const r=n.useRef(0),o=qe(),s=D((...i)=>{r.current=Date.now(),e(i)});return n.useCallback((...i)=>{o(()=>{s(i)},t-(Date.now()-r.current))},[t,s,o])}const at=ye("slide"),ut=ye("slide_image");function ge({slide:e,offset:t,render:r,rect:o,imageFit:s,imageProps:i,onClick:l,onLoad:c,onError:a,style:u}){var f,h,b,x,m,v,p;const[S,C]=n.useState(Le),{publish:g}=Pe(),{setTimeout:k}=He(),y=n.useRef(null);n.useEffect(()=>{t===0&&g(Ve(S))},[t,S,g]);const _=D(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(C(Fe),k(()=>{c==null||c(N)},0))})}),T=n.useCallback(N=>{y.current=N,N!=null&&N.complete&&_(N)},[_]),F=n.useCallback(N=>{_(N.currentTarget)},[_]),E=D(()=>{C(De),a==null||a()}),M=kt(e,s),O=(N,Q)=>Number.isFinite(N)?N:Q,A=O(Math.max(...((h=(f=e.srcSet)===null||f===void 0?void 0:f.map(N=>N.width))!==null&&h!==void 0?h:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((b=y.current)===null||b===void 0?void 0:b.naturalWidth)||0),V=O(Math.max(...((m=(x=e.srcSet)===null||x===void 0?void 0:x.map(N=>N.height))!==null&&m!==void 0?m:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=y.current)===null||v===void 0?void 0:v.naturalHeight)||0),w=A&&V?{maxWidth:`min(${A}px, 100%)`,maxHeight:`min(${V}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},P=(p=e.srcSet)===null||p===void 0?void 0:p.sort((N,Q)=>N.width-Q.width).map(N=>`${N.src} ${N.width}w`).join(", "),R=()=>o&&!M&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,j=P&&o&&Lt()?`${Math.round(Math.min(R(),o.width))}px`:void 0,{style:z,className:G,...ne}=i||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:T,onLoad:F,onError:E,onClick:l,draggable:!1,className:q(L(ut()),M&&L(ut("cover")),S!==Fe&&L(ut("loading")),G),style:{...w,...u,...z},...ne,alt:e.alt,sizes:j,srcSet:P,src:e.src}),S!==Fe&&n.createElement("div",{className:L(at(vr))},S===Le&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(Ar,{className:q(L(Ge),L(at(Le)))})),S===De&&(r!=null&&r.iconError?r.iconError():n.createElement($r,{className:q(L(Ge),L(at(De)))}))))}const zr=n.forwardRef(function({className:t,children:r,...o},s){const i=n.useRef(null);return n.createElement(Lr,{nodeRef:i},n.createElement("div",{ref:yt(s,i),className:q(L("root"),t),...o},r))});var K;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(K||(K={}));function Jn(e,t,r,o,s){n.useEffect(()=>s?()=>{}:Re(e(Tn,t),e(kn,r),e(Rn,o),e(Nn,o),e(On,o)),[e,t,r,o,s])}var le;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(le||(le={}));const dt=30;function Wr(e,t,r,o,s,i,l,c,a,u,f,h,b,x){const m=n.useRef(0),v=n.useRef([]),p=n.useRef(),S=n.useRef(0),C=n.useRef(le.NONE),g=n.useCallback(E=>{p.current===E.pointerId&&(p.current=void 0,C.current=le.NONE);const M=v.current;M.splice(0,M.length,...M.filter(O=>O.pointerId!==E.pointerId))},[]),k=n.useCallback(E=>{g(E),E.persist(),v.current.push(E)},[g]),y=D(E=>{k(E)}),_=(E,M)=>u&&E>M||a&&E<-M,T=D(E=>{if(v.current.find(M=>M.pointerId===E.pointerId)&&p.current===E.pointerId){const M=Date.now()-S.current,O=m.current;C.current===le.SWIPE?Math.abs(O)>.3*r||Math.abs(O)>5&&M<o?l(O,M):c(O):C.current===le.PULL&&(_(O,2*dt)?b(O,M):x(O)),m.current=0,C.current=le.NONE}g(E)}),F=D(E=>{const M=v.current.find(O=>O.pointerId===E.pointerId);if(M){const O=p.current===E.pointerId;if(E.buttons===0){O&&m.current!==0?T(E):g(M);return}const A=E.clientX-M.clientX,V=E.clientY-M.clientY;if(p.current===void 0){const w=P=>{k(E),p.current=E.pointerId,S.current=Date.now(),C.current=P};Math.abs(A)>Math.abs(V)&&Math.abs(A)>dt&&t(A)?(w(le.SWIPE),s()):Math.abs(V)>Math.abs(A)&&_(V,dt)&&(w(le.PULL),f())}else O&&(C.current===le.SWIPE?(m.current=A,i(A)):C.current===le.PULL&&(m.current=V,h(V)))}});Jn(e,y,F,T)}function Hr({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(s=>{const i=Math.abs(s.deltaX)>Math.abs(s.deltaY);(i&&e||!i&&t||s.ctrlKey)&&s.preventDefault()});return n.useCallback(s=>{var i;s?s.addEventListener("wheel",o,{passive:!1}):(i=r.current)===null||i===void 0||i.removeEventListener("wheel",o),r.current=s},[o])}function Zr(e,t,r,o,s,i,l,c,a){const u=n.useRef(0),f=n.useRef(0),h=n.useRef(),b=n.useRef(),x=n.useRef(0),m=n.useRef(0),{setTimeout:v,clearTimeout:p}=He(),S=n.useCallback(()=>{h.current&&(p(h.current),h.current=void 0)},[p]),C=n.useCallback(()=>{b.current&&(p(b.current),b.current=void 0)},[p]),g=D(()=>{e!==K.SWIPE&&(u.current=0,m.current=0,S(),C())});n.useEffect(g,[e,g]);const k=D(_=>{b.current=void 0,u.current===_&&a(u.current)}),y=D(_=>{if(!_.ctrlKey&&!(Math.abs(_.deltaY)>Math.abs(_.deltaX)))if(e===K.NONE){if(Math.abs(_.deltaX)<=1.2*Math.abs(x.current)){x.current=_.deltaX;return}if(!r(-_.deltaX))return;if(f.current+=_.deltaX,S(),Math.abs(f.current)>30)f.current=0,x.current=0,m.current=Date.now(),i();else{const T=f.current;h.current=v(()=>{h.current=void 0,T===f.current&&(f.current=0)},s)}}else if(e===K.SWIPE){let T=u.current-_.deltaX;if(T=Math.min(Math.abs(T),o)*Math.sign(T),u.current=T,l(T),C(),Math.abs(T)>.2*o){x.current=_.deltaX,c(T,Date.now()-m.current);return}b.current=v(()=>k(T),2*s)}else x.current=_.deltaX});n.useEffect(()=>t(Mt,y),[t,y])}const tn=ye("container"),eo=n.createContext(null),ie=re("useController","ControllerContext",eo);function Br({children:e,...t}){var r;const{carousel:o,animation:s,controller:i,on:l,styles:c,render:a}=t,{closeOnPullUp:u,closeOnPullDown:f,preventDefaultWheelX:h,preventDefaultWheelY:b}=i,[x,m]=n.useState(),v=ae(),p=kr(),[S,C]=n.useState(K.NONE),g=n.useRef(0),k=n.useRef(0),y=n.useRef(1),{registerSensors:_,subscribeSensors:T}=Qn(),{subscribe:F,publish:E}=Pe(),M=qe(),O=qe(),A=qe(),{containerRef:V,setContainerRef:w,containerRect:P}=jt(),R=yt(Hr({preventDefaultWheelX:h,preventDefaultWheelY:b}),w),j=n.useRef(null),z=yt(j,void 0),{getOwnerDocument:G}=We(),ne=tt(),N=I=>(ne?-1:1)*(typeof I=="number"?I:1),Q=D(()=>{var I;return(I=V.current)===null||I===void 0?void 0:I.focus()}),Ze=D(()=>t),Be=D(()=>v),Ie=n.useCallback(I=>E(he,I),[E]),_e=n.useCallback(I=>E(me,I),[E]),W=n.useCallback(()=>E(ke),[E]),pe=I=>!(o.finite&&(N(I)>0&&v.currentIndex===0||N(I)<0&&v.currentIndex===v.slides.length-1)),Vt=I=>{var H;g.current=I,(H=V.current)===null||H===void 0||H.style.setProperty($("swipe_offset"),`${Math.round(I)}px`)},ot=I=>{var H,J;k.current=I,y.current=(()=>{const Oe=f&&I>0?I:u&&I<0?-I:0;return Math.min(Math.max(Tt(1-Oe/60*(1-.5),2),.5),1)})(),(H=V.current)===null||H===void 0||H.style.setProperty($("pull_offset"),`${Math.round(I)}px`),(J=V.current)===null||J===void 0||J.style.setProperty($("pull_opacity"),`${y.current}`)},{prepareAnimation:xo}=wt(j,(I,H,J)=>{if(j.current&&P)return{keyframes:[{transform:`translate(0, ${I.rect.y-H.y+J.y}px)`,opacity:I.opacity},{transform:"translate(0, 0)",opacity:1}],duration:I.duration,easing:s.easing.fade}}),zt=(I,H)=>{if(u||f){ot(I);let J=0;j.current&&(J=s.fade*(H?2:1),xo({rect:j.current.getBoundingClientRect(),opacity:y.current,duration:J})),A(()=>{ot(0),C(K.NONE)},J),C(K.ANIMATION),H||W()}},{prepareAnimation:go,isAnimationPlaying:bo}=wt(j,(I,H,J)=>{var ue;if(j.current&&P&&(!((ue=v.animation)===null||ue===void 0)&&ue.duration)){const oe=Qe(o.spacing),Oe=(oe.percent?oe.percent*P.width/100:oe.pixel)||0;return{keyframes:[{transform:`translate(${N(v.globalIndex-I.index)*(P.width+Oe)+I.rect.x-H.x+J.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),Ne=D(I=>{var H,J;const ue=I.offset||0,oe=ue?s.swipe:(H=s.navigation)!==null&&H!==void 0?H:s.swipe,Oe=!ue&&!bo()?s.easing.navigation:s.easing.swipe;let{direction:Ue}=I;const Ye=(J=I.count)!==null&&J!==void 0?J:1;let rt=K.ANIMATION,de=oe*Ye;if(!Ue){const je=P==null?void 0:P.width,Bt=I.duration||0,it=je?oe/je*Math.abs(ue):oe;Ye!==0?(Bt<it?de=de/it*Math.max(Bt,it/5):je&&(de=oe/je*(je-Math.abs(ue))),Ue=N(ue)>0?he:me):de=oe/2}let st=0;Ue===he?pe(N(1))?st=-Ye:(rt=K.NONE,de=oe):Ue===me&&(pe(N(-1))?st=Ye:(rt=K.NONE,de=oe)),de=Math.round(de),O(()=>{Vt(0),C(K.NONE)},de),j.current&&go({rect:j.current.getBoundingClientRect(),index:v.globalIndex}),C(rt),E(gt,{type:"swipe",increment:st,duration:de,easing:Oe})});n.useEffect(()=>{var I,H;!((I=v.animation)===null||I===void 0)&&I.increment&&(!((H=v.animation)===null||H===void 0)&&H.duration)&&M(()=>p({type:"swipe",increment:0}),v.animation.duration)},[v.animation,p,M]);const Wt=[T,pe,(P==null?void 0:P.width)||0,s.swipe,()=>C(K.SWIPE),I=>Vt(I),(I,H)=>Ne({offset:I,duration:H,count:1}),I=>Ne({offset:I,count:0})],Eo=[()=>{f&&C(K.PULL)},I=>ot(I),I=>zt(I),I=>zt(I,!0)];Wr(...Wt,u,f,...Eo),Zr(S,...Wt);const Ht=D(()=>{i.focus&&G().querySelector(`.${L(St)} .${L(tn())}`)&&Q()});n.useEffect(Ht,[Ht]);const Zt=D(()=>{var I;(I=l.view)===null||I===void 0||I.call(l,{index:v.currentIndex})});n.useEffect(Zt,[v.globalIndex,Zt]),n.useEffect(()=>Re(F(he,I=>Ne({direction:he,...I})),F(me,I=>Ne({direction:me,...I})),F(gt,I=>p(I))),[F,Ne,p]);const wo=n.useMemo(()=>({prev:Ie,next:_e,close:W,focus:Q,slideRect:P?Ir(P,o.padding):{width:0,height:0},containerRect:P||{width:0,height:0},subscribeSensors:T,containerRef:V,setCarouselRef:z,toolbarWidth:x,setToolbarWidth:m}),[Ie,_e,W,Q,T,P,V,z,x,m,o.padding]);return n.useImperativeHandle(i.ref,()=>({prev:Ie,next:_e,close:W,focus:Q,getLightboxProps:Ze,getLightboxState:Be}),[Ie,_e,W,Q,Ze,Be]),n.createElement("div",{ref:R,className:q(L(tn()),L(Ee)),style:{...S===K.SWIPE?{[$("swipe_offset")]:`${Math.round(g.current)}px`}:null,...S===K.PULL?{[$("pull_offset")]:`${Math.round(k.current)}px`,[$("pull_opacity")]:`${y.current}`}:null,...i.touchAction!=="none"?{[$("controller_touch_action")]:i.touchAction}:null,...c.container},...i.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,..._},P&&n.createElement(eo.Provider,{value:wo},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const Ur=se(Je,Br);function ve(e){return we(Cn,e)}function nn(e){return we("slide",e)}function Yr({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=ae(),{slideRect:s,close:i}=ie(),{render:l,carousel:{imageFit:c,imageProps:a},on:{click:u},controller:{closeOnBackdropClick:f},styles:{slide:h}}=Z(),b=()=>{var m,v,p,S;let C=(m=l.slide)===null||m===void 0?void 0:m.call(l,{slide:e,offset:t,rect:s});return!C&&Ce(e)&&(C=n.createElement(ge,{slide:e,offset:t,render:l,rect:s,imageFit:c,imageProps:a,onClick:t===0?()=>u==null?void 0:u({index:o}):void 0})),C?n.createElement(n.Fragment,null,(v=l.slideHeader)===null||v===void 0?void 0:v.call(l,{slide:e}),((p=l.slideContainer)!==null&&p!==void 0?p:({children:g})=>g)({slide:e,children:C}),(S=l.slideFooter)===null||S===void 0?void 0:S.call(l,{slide:e})):null},x=m=>{const v=r.current,p=m.target instanceof HTMLElement?m.target:void 0;f&&p&&v&&(p===v||Array.from(v.children).find(S=>S===p)&&p.classList.contains(L(It)))&&i()};return n.createElement("div",{ref:r,className:q(L(nn()),t===0&&L(nn("current")),L(Ee)),"aria-hidden":t!==0,onClick:x,style:h},b())}function Xr(){const e=Z().styles.slide;return n.createElement("div",{className:L("slide"),style:e})}function qr({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=ae(),{setCarouselRef:s}=ie(),i=Qe(e.spacing),l=Qe(e.padding),c=Vn(e,t,1),a=[];if(Rt(t))for(let u=r-c;u<=r+c;u+=1){const f=Nt(t,u),h=o-r+u,b=e.finite&&(u<0||u>t.length-1);a.push(b?{key:h}:{key:[`${h}`,$n(f)].filter(Boolean).join("|"),offset:u-r,slide:f})}return n.createElement("div",{ref:s,className:q(L(ve()),a.length>0&&L(ve("with_slides"))),style:{[`${$(ve("slides_count"))}`]:a.length,[`${$(ve("spacing_px"))}`]:i.pixel||0,[`${$(ve("spacing_percent"))}`]:i.percent||0,[`${$(ve("padding_px"))}`]:l.pixel||0,[`${$(ve("padding_percent"))}`]:l.percent||0}},a.map(({key:u,slide:f,offset:h})=>f?n.createElement(Yr,{key:u,slide:f,offset:h}):n.createElement(Xr,{key:u})))}const Kr=se(Cn,qr);function to(){const{carousel:e}=Z(),{slides:t,currentIndex:r}=ae(),o=t.length===0||e.finite&&r===0,s=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:s}}function no(e){var t;const r=tt(),{publish:o}=Pe(),{animation:s}=Z(),{prevDisabled:i,nextDisabled:l}=to(),c=((t=s.navigation)!==null&&t!==void 0?t:s.swipe)/2,a=en(()=>o(he),c),u=en(()=>o(me),c),f=D(h=>{switch(h.key){case wr:o(ke);break;case yr:(r?l:i)||(r?u:a)();break;case Cr:(r?i:l)||(r?a:u)();break}});n.useEffect(()=>e(_t,f),[e,f])}function on({label:e,icon:t,renderIcon:r,action:o,onClick:s,disabled:i,style:l}){return n.createElement(Se,{label:e,icon:t,renderIcon:r,className:L(`navigation_${o}`),disabled:i,onClick:s,style:l,...Gn(ie().focus,i)})}function Gr({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:s}){const{prev:i,next:l,subscribeSensors:c}=ie(),{prevDisabled:a,nextDisabled:u}=to();return no(c),n.createElement(n.Fragment,null,e?e():n.createElement(on,{label:"Previous",action:he,icon:Dr,renderIcon:r,style:s.navigationPrev,disabled:a,onClick:i}),t?t():n.createElement(on,{label:"Next",action:me,icon:Fr,renderIcon:o,style:s.navigationNext,disabled:u,onClick:l}))}const Qr=se(hr,Gr),rn=L(gr),Jr=L(Ln);function es(e){return"style"in e}function sn(e,t,r){const o=window.getComputedStyle(e),s=r?"padding-left":"padding-right",i=r?o.paddingLeft:o.paddingRight,l=e.style.getPropertyValue(s);return e.style.setProperty(s,`${(et(i)||0)+t}px`),()=>{l?e.style.setProperty(s,l):e.style.removeProperty(s)}}function ts({noScroll:{disabled:e},children:t}){const r=tt(),{getOwnerDocument:o,getOwnerWindow:s}=We();return n.useEffect(()=>{if(e)return()=>{};const i=[],l=s(),{body:c,documentElement:a}=o(),u=Math.round(l.innerWidth-a.clientWidth);if(u>0){i.push(sn(c,u,r));const f=c.getElementsByTagName("*");for(let h=0;h<f.length;h+=1){const b=f[h];es(b)&&l.getComputedStyle(b).getPropertyValue("position")==="fixed"&&!b.classList.contains(Jr)&&i.push(sn(b,u,r))}}return c.classList.add(rn),()=>{c.classList.remove(rn),i.forEach(f=>f())}},[r,e,o,s]),n.createElement(n.Fragment,null,t)}const ns=se(mr,ts);function ln(e){return we(St,e)}function cn(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function os({children:e,animation:t,styles:r,className:o,on:s,portal:i,close:l}){const[c,a]=n.useState(!1),[u,f]=n.useState(!1),h=n.useRef([]),b=n.useRef(null),{setTimeout:x}=He(),{subscribe:m}=Pe(),p=Ot()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),f(!1)}),[]);const S=D(()=>{h.current.forEach(y=>y()),h.current=[]}),C=D(()=>{var y;f(!1),S(),(y=s.exiting)===null||y===void 0||y.call(s),x(()=>{var _;(_=s.exited)===null||_===void 0||_.call(s),l()},p)});n.useEffect(()=>m(ke,C),[m,C]);const g=D(y=>{var _,T,F;y.scrollTop,f(!0),(_=s.entering)===null||_===void 0||_.call(s);const E=(F=(T=y.parentNode)===null||T===void 0?void 0:T.children)!==null&&F!==void 0?F:[];for(let M=0;M<E.length;M+=1){const O=E[M];["TEMPLATE","SCRIPT","STYLE"].indexOf(O.tagName)===-1&&O!==y&&(h.current.push(cn(O,"inert","true")),h.current.push(cn(O,"aria-hidden","true")))}h.current.push(()=>{var M,O;(O=(M=b.current)===null||M===void 0?void 0:M.focus)===null||O===void 0||O.call(M)}),x(()=>{var M;(M=s.entered)===null||M===void 0||M.call(s)},p)}),k=n.useCallback(y=>{y?g(y):S()},[g,S]);return c?_o.createPortal(n.createElement(zr,{ref:k,className:q(o,L(ln()),L(Ln),u&&L(ln("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Et.animation.fade?{[$("fade_animation_duration")]:`${p}ms`}:null,...t.easing.fade!==Et.animation.easing.fade?{[$("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:y=>{b.current||(b.current=y.relatedTarget)}},e),i.root||document.body):null}const rs=se(St,os);function ss({children:e}){return n.createElement(n.Fragment,null,e)}const is=se(pr,ss);function ls(e){return we(Pn,e)}function cs({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:s,setToolbarWidth:i}=ie(),{setContainerRef:l,containerRect:c}=jt();ce(()=>{i(c==null?void 0:c.width)},[i,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(Se,{key:ke,label:"Close",icon:jr,renderIcon:r,onClick:s});return n.createElement("div",{ref:l,style:o.toolbar,className:L(ls())},e==null?void 0:e.map(u=>u===ke?a():u))}const as=se(Pn,cs);function oo(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>oo(o,t)))}function us(e,t={}){const{easing:r,...o}=e,{easing:s,...i}=t;return{easing:{...r,...s},...o,...i}}function ds({carousel:e,animation:t,render:r,toolbar:o,controller:s,noScroll:i,on:l,plugins:c,slides:a,index:u,...f}){const{animation:h,carousel:b,render:x,toolbar:m,controller:v,noScroll:p,on:S,slides:C,index:g,plugins:k,...y}=Et,{config:_,augmentation:T}=Mr([Y(rs,[Y(ns,[Y(Ur,[Y(Kr),Y(as),Y(Qr)])])])],c||k),F=T({animation:us(h,t),carousel:{...b,...e},render:{...x,...r},toolbar:{...m,...o},controller:{...v,...s},noScroll:{...p,...i},on:{...S,...l},...y,...f});return F.open?n.createElement(Bn,{...F},n.createElement(Nr,{slides:a||C,index:et(u||g)},n.createElement(Or,null,n.createElement(Tr,null,oo(Y(is,_),F))))):null}const fs={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},ro=e=>({...fs,...e});function hs(e,t,r,o){const s=n.useRef(),i=n.useRef(),{zoom:l}=Z().animation,c=Ot(),a=D(()=>{var u,f,h;if((u=s.current)===null||u===void 0||u.cancel(),s.current=void 0,i.current&&(o!=null&&o.current)){try{s.current=(h=(f=o.current).animate)===null||h===void 0?void 0:h.call(f,[{transform:i.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:c?0:l??500,easing:s.current?"ease-out":"ease-in-out"})}catch(b){console.error(b)}i.current=void 0,s.current&&(s.current.onfinish=()=>{s.current=void 0})}});return ce(a,[e,t,r,a]),n.useCallback(()=>{i.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function ms(e,t){const{on:r}=Z(),o=D(()=>{var s;t||(s=r.zoom)===null||s===void 0||s.call(r,{zoom:e})});n.useEffect(o,[e,o])}function nt(){const{zoom:e}=Z();return ro(e)}function ps(e,t){var r,o;let s={width:0,height:0},i={width:0,height:0};const{currentSlide:l}=ae(),{imageFit:c}=Z().carousel,{maxZoomPixelRatio:a}=nt();if(e&&l){const f={...l,...t};if(Ce(f)){const h=kt(f,c),b=Math.max(...(((r=f.srcSet)===null||r===void 0?void 0:r.map(m=>m.width))||[]).concat(f.width?[f.width]:[])),x=Math.max(...(((o=f.srcSet)===null||o===void 0?void 0:o.map(m=>m.height))||[]).concat(f.height?[f.height]:[]));b>0&&x>0&&e.width>0&&e.height>0&&(i=h?{width:Math.round(Math.min(b,e.width/e.height*x)),height:Math.round(Math.min(x,e.height/e.width*b))}:{width:b,height:x},i={width:i.width*a,height:i.height*a},s=h?{width:Math.min(e.width,i.width,b),height:Math.min(e.height,i.height,x)}:{width:Math.round(Math.min(e.width,e.height/x*b,b)),height:Math.round(Math.min(e.height,e.width/b*x,x))})}}const u=s.width?Math.max(Tt(i.width/s.width,5),1):1;return{imageRect:s,maxZoom:u}}function an(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function un(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function vs(e,t,r,o,s,i){const l=n.useRef([]),c=n.useRef(0),a=n.useRef(),{globalIndex:u}=ae(),{getOwnerWindow:f}=We(),{containerRef:h,subscribeSensors:b}=ie(),{keyboardMoveDistance:x,zoomInMultiplier:m,wheelZoomDistanceFactor:v,scrollToZoom:p,doubleTapDelay:S,doubleClickDelay:C,doubleClickMaxStops:g,pinchZoomDistanceFactor:k}=nt(),y=n.useCallback(w=>{if(h.current){const{pageX:P,pageY:R}=w,{scrollX:j,scrollY:z}=f(),{left:G,top:ne,width:N,height:Q}=h.current.getBoundingClientRect();return[P-G-j-N/2,R-ne-z-Q/2]}return[]},[h,f]),_=D(w=>{const P=()=>{w.preventDefault(),w.stopPropagation()};if(e>1){const z=(G,ne)=>{P(),s(G,ne)};w.key==="ArrowDown"?z(0,x):w.key==="ArrowUp"?z(0,-x):w.key==="ArrowLeft"?z(-x,0):w.key==="ArrowRight"&&z(x,0)}const R=z=>{P(),o(z)},j=()=>w.getModifierState("Meta");w.key==="+"||w.key==="="&&j()?R(e*m):w.key==="-"||w.key==="_"&&j()?R(e/m):w.key==="0"&&j()&&R(1)}),T=D(w=>{if((w.ctrlKey||p)&&Math.abs(w.deltaY)>Math.abs(w.deltaX)){w.stopPropagation(),o(un(e,-w.deltaY,v),!0,...y(w));return}e>1&&(w.stopPropagation(),p||s(w.deltaX,w.deltaY))}),F=n.useCallback(w=>{const P=l.current;P.splice(0,P.length,...P.filter(R=>R.pointerId!==w.pointerId))},[]),E=n.useCallback(w=>{F(w),w.persist(),l.current.push(w)},[F]),M=D(w=>{var P;const R=l.current;if(w.pointerType==="mouse"&&w.buttons>1||!(!((P=i==null?void 0:i.current)===null||P===void 0)&&P.contains(w.target)))return;e>1&&w.stopPropagation();const{timeStamp:j}=w;R.length===0&&j-c.current<(w.pointerType==="touch"?S:C)?(c.current=0,o(e!==t?e*Math.max(t**(1/g),m):1,!1,...y(w))):c.current=j,E(w),R.length===2&&(a.current=an(R[0],R[1]))}),O=D(w=>{const P=l.current,R=P.find(j=>j.pointerId===w.pointerId);if(P.length===2&&a.current){w.stopPropagation(),E(w);const j=an(P[0],P[1]),z=j-a.current;Math.abs(z)>0&&(o(un(e,z,k),!0,...P.map(G=>y(G)).reduce((G,ne)=>ne.map((N,Q)=>G[Q]+N/2))),a.current=j);return}e>1&&(w.stopPropagation(),R&&(P.length===1&&s((R.clientX-w.clientX)/e,(R.clientY-w.clientY)/e),E(w)))}),A=n.useCallback(w=>{const P=l.current;P.length===2&&P.find(R=>R.pointerId===w.pointerId)&&(a.current=void 0),F(w)},[F]),V=n.useCallback(()=>{const w=l.current;w.splice(0,w.length),c.current=0,a.current=void 0},[]);Jn(b,M,O,A,r),n.useEffect(V,[u,V]),n.useEffect(()=>r?()=>{}:Re(V,b(_t,_),b(Mt,T)),[r,b,V,_,T])}function xs(e,t,r){const[o,s]=n.useState(1),[i,l]=n.useState(0),[c,a]=n.useState(0),u=hs(o,i,c,r),{currentSlide:f,globalIndex:h}=ae(),{containerRect:b,slideRect:x}=ie(),{zoomInMultiplier:m}=nt(),v=f&&Ce(f)?f.src:void 0,p=!v||!(r!=null&&r.current);ce(()=>{s(1),l(0),a(0)},[h,v]);const S=n.useCallback((_,T,F)=>{const E=F||o,M=i-(_||0),O=c-(T||0),A=(e.width*E-x.width)/2/E,V=(e.height*E-x.height)/2/E;l(Math.min(Math.abs(M),Math.max(A,0))*Math.sign(M)),a(Math.min(Math.abs(O),Math.max(V,0))*Math.sign(O))},[o,i,c,x,e.width,e.height]),C=n.useCallback((_,T,F,E)=>{const M=Tt(Math.min(Math.max(_+.001<t?_:t,1),t),5);M!==o&&(T||u(),S(F?F*(1/o-1/M):0,E?E*(1/o-1/M):0,M),s(M))},[o,t,S,u]),g=D(()=>{o>1&&(o>t&&C(t,!0),S())});ce(g,[b.width,b.height,g]);const k=n.useCallback(()=>C(o*m),[o,m,C]),y=n.useCallback(()=>C(o/m),[o,m,C]);return{zoom:o,offsetX:i,offsetY:c,disabled:p,changeOffsets:S,changeZoom:C,zoomIn:k,zoomOut:y}}const so=n.createContext(null),Dt=re("useZoom","ZoomControllerContext",so);function gs({children:e}){const[t,r]=n.useState(),{slideRect:o}=ie(),{imageRect:s,maxZoom:i}=ps(o,t==null?void 0:t.imageDimensions),{zoom:l,offsetX:c,offsetY:a,disabled:u,changeZoom:f,changeOffsets:h,zoomIn:b,zoomOut:x}=xs(s,i,t==null?void 0:t.zoomWrapperRef);ms(l,u),vs(l,i,u,f,h,t==null?void 0:t.zoomWrapperRef);const m=n.useMemo(()=>({zoom:l,maxZoom:i,offsetX:c,offsetY:a,disabled:u,zoomIn:b,zoomOut:x,changeZoom:f}),[l,i,c,a,u,b,x,f]);n.useImperativeHandle(nt().ref,()=>m,[m]);const v=n.useMemo(()=>({...m,setZoomWrapper:r}),[m,r]);return n.createElement(so.Provider,{value:v},e)}const bs=ee("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Es=ee("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),dn=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const s=n.useRef(!1),i=n.useRef(!1),{zoom:l,maxZoom:c,zoomIn:a,zoomOut:u,disabled:f}=Dt(),{render:h}=Z(),b=f||(t?l>=c:l<=1);return n.useEffect(()=>{b&&s.current&&i.current&&r(),b||(s.current=!0)},[b,r]),n.createElement(Se,{ref:o,disabled:b,label:t?"Zoom in":"Zoom out",icon:t?bs:Es,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?a:u,onFocus:()=>{i.current=!0},onBlur:()=>{i.current=!1}})});function ws(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=ie(),o=n.useCallback(l=>{var c,a;!((c=l.current)===null||c===void 0)&&c.disabled?r():(a=l.current)===null||a===void 0||a.focus()},[r]),s=n.useCallback(()=>o(e),[o]),i=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(dn,{zoomIn:!0,ref:e,onLoseFocus:i}),n.createElement(dn,{ref:t,onLoseFocus:s}))}function ys(){const{render:e}=Z(),t=Dt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(ws,null)}function Cs(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Ps({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(Dn)}}function Ss(e){var t,r;const[{current:o,preload:s},i]=n.useReducer(Ps,{}),{slide:l,rect:c,imageFit:a,render:u,interactive:f}=e,h=l.srcSet.sort((y,_)=>y.width-_.width),b=(t=l.width)!==null&&t!==void 0?t:h[h.length-1].width,x=(r=l.height)!==null&&r!==void 0?r:h[h.length-1].height,m=kt(l,a),v=Math.max(...h.map(y=>y.width)),p=Math.min((m?Math.max:Math.min)(c.width,b*(c.height/x)),v),S=_r(),C=D(()=>{var y;const _=(y=h.find(T=>T.width>=p*S))!==null&&y!==void 0?y:h[h.length-1];(!o||h.findIndex(T=>T.src===o)<h.findIndex(T=>T===_))&&i({type:"fetch",source:_.src})});ce(C,[c.width,c.height,S,C]);const g=D(y=>i({type:"done",source:y})),k={WebkitTransform:f?"initial":"translateZ(0)"};return m||Object.assign(k,c.width/c.height<b/x?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,s&&s!==o&&n.createElement(ge,{key:"preload",...e,slide:{...l,src:s,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...k},onLoad:()=>g(s),render:{...u,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(ge,{key:"current",...e,slide:{...l,src:o,srcSet:void 0},style:k}))}function Is({render:e,slide:t,offset:r,rect:o}){var s;const[i,l]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:u,offsetX:f,offsetY:h,setZoomWrapper:b}=Dt(),x=a>1,{carousel:m,on:v}=Z(),{currentIndex:p}=ae();ce(()=>r===0?(b({zoomWrapperRef:c,imageDimensions:i}),()=>b(void 0)):()=>{},[r,i,b]);let S=(s=e.slide)===null||s===void 0?void 0:s.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:u});if(!S&&Ce(t)){const C={slide:t,offset:r,rect:o,render:e,imageFit:m.imageFit,imageProps:m.imageProps,onClick:r===0?()=>{var g;return(g=v.click)===null||g===void 0?void 0:g.call(v,{index:p})}:void 0};S=Cs(t)?n.createElement(Ss,{...C,slide:t,interactive:x,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(ge,{onLoad:g=>l({width:g.naturalWidth,height:g.naturalHeight}),...C})}return S?n.createElement("div",{ref:c,className:q(L(Mn),L(Ee),L(It),x&&L(br)),style:r===0?{transform:`scale(${a}) translateX(${f}px) translateY(${h}px)`}:void 0},S):null}const fn=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:s,controller:i,...l})=>{const c=ro(r);return{zoom:c,toolbar:ze(o,Gt,n.createElement(ys,null)),render:{...s,slide:a=>{var u;return Ce(a.slide)?n.createElement(Is,{render:s,...a}):(u=s.slide)===null||u===void 0?void 0:u.call(s,a)}},controller:{...i,preventDefaultWheelY:c.scrollToZoom},...l}}),t(se(Gt,gs))},_s={controls:!0,playsInline:!0},io=e=>({..._s,...e});function Ms(){const{video:e}=Z();return io(e)}function Ls({slide:e,offset:t}){const r=Ms(),{publish:o}=Pe(),{setContainerRef:s,containerRect:i}=jt(),l=n.useRef(null);n.useEffect(()=>{t!==0&&l.current&&!l.current.paused&&l.current.pause()},[t]),n.useEffect(()=>{t===0&&l.current&&(e.autoPlay||r.autoPlay)&&(o(Sn),l.current.play().catch(()=>{}))},[t,r.autoPlay,e.autoPlay,o]);const c=D(p=>{t===0&&(r.autoPlay||e.autoPlay)&&p.paused&&p.play().catch(()=>{})}),a=n.useCallback(p=>{l.current=p,p&&c(p)},[c]),{width:u,height:f,poster:h,sources:b}=e,x=()=>{const p={};if(p.style={maxWidth:"100%",maxHeight:"100%"},u&&f&&i){const S=u/f>i.width/i.height,C=S?i.width:Math.round(i.height/f*u),g=S?Math.round(i.width/u*f):i.height;p.width=C,p.height=g,p.style.width=C,p.style.height=g}return p},m=p=>e[p]===!1?null:e[p]===!0?{[p]:!0}:r[p]===!1?null:r[p]===!0?{[p]:!0}:null,v=p=>r[p]||e[p]?{[p]:e[p]||r[p]}:null;return n.createElement(n.Fragment,null,b&&n.createElement("div",{ref:s,style:{width:"100%",height:"100%",...u?{maxWidth:`${u}px`}:null},className:q(L("video_container"),L(Ee),L(It))},i&&n.createElement("video",{ref:a,poster:h,...x(),...m("controls"),...m("playsInline"),...m("loop"),...m("muted"),...m("playsInline"),...m("disablePictureInPicture"),...m("disableRemotePlayback"),...v("controlsList"),...v("crossOrigin"),...v("preload"),onPlay:()=>{o(In)},onEnded:()=>{o(_n)}},b.map(({src:p,type:S,media:C})=>n.createElement("source",{key:[p,S,C].filter(Boolean).join("|"),src:p,type:S,media:C})))))}function Ts(e){return e.type==="video"}function hn({augment:e}){e(({render:{slide:t,...r},video:o,...s})=>({render:{slide:({slide:i,offset:l,rect:c})=>{var a;return Ts(i)?n.createElement(Ls,{key:(a=i.sources)===null||a===void 0?void 0:a.map(u=>u.src).join("|"),slide:i,offset:l}):t==null?void 0:t({slide:i,offset:l,rect:c})},...r},video:io(o),...s}))}const Te=e=>L(`slide_${e}`),Ct={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Ft=e=>({...Ct,...e});function ks(){const{captions:e}=Z();return Ft(e)}const lo=n.createContext(null),At=re("useCaptions","CaptionsContext",lo);function Rs({captions:e,children:t}){const{ref:r,hidden:o}=Ft(e),[s,i]=n.useState(!o),l=n.useMemo(()=>({visible:s,show:()=>i(!0),hide:()=>i(!1)}),[s]);return n.useImperativeHandle(r,()=>l,[l]),n.createElement(lo.Provider,{value:l},t)}function Ns({title:e}){const{toolbarWidth:t}=ie(),{styles:r}=Z(),{visible:o}=At();return o?n.createElement("div",{style:r.captionsTitleContainer,className:q(Te("captions_container"),Te("title_container"))},n.createElement("div",{className:Te("title"),style:{...t?{[$("toolbar_width")]:`${t}px`}:null,...r.captionsTitle}},e)):null}function Os({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=ks(),{styles:o}=Z(),{visible:s}=At();return s?n.createElement("div",{style:o.captionsDescriptionContainer,className:q(Te("captions_container"),Te("description_container"))},n.createElement("div",{className:Te("description"),style:{...t!==Ct.descriptionTextAlign||r!==Ct.descriptionMaxLines?{[$("slide_description_text_align")]:t,[$("slide_description_max_lines")]:r}:null,...o.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((i,l)=>[...l>0?[n.createElement("br",{key:l})]:[],i]):e)):null}const co=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),js=ee("CaptionsVisible",co()),Ds=Kn("CaptionsVisible",co());function Fs(){const{visible:e,show:t,hide:r}=At(),{render:o}=Z();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(Se,{label:e?"Hide captions":"Show captions",icon:e?js:Ds,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function mn({augment:e,addModule:t}){e(({captions:r,render:{slideFooter:o,...s},toolbar:i,...l})=>{const c=Ft(r);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,o==null?void 0:o({slide:a}),a.title&&n.createElement(Ns,{title:a.title}),a.description&&n.createElement(Os,{description:a.description})),...s},toolbar:ze(i,qt,c.showToggle?n.createElement(Fs,null):null),captions:c,...l}}),t(se(qt,Rs))}const As={autoplay:!1,delay:3e3,ref:null},ao=e=>({...As,...e}),uo=n.createContext(null),$s=re("useSlideshow","SlideshowContext",uo);function Vs({slideshow:e,carousel:{finite:t},on:r,children:o}){const{autoplay:s,delay:i,ref:l}=ao(e),c=n.useRef(s),[a,u]=n.useState(s),f=n.useRef(),h=n.useRef(),{slides:b,currentIndex:x}=ae(),{setTimeout:m,clearTimeout:v}=He(),{subscribe:p}=Pe(),{next:S}=ie(),C=b.length===0||t&&x===b.length-1,g=n.useCallback(()=>{!a&&!C&&u(!0)},[a,C]),k=n.useCallback(()=>{a&&u(!1)},[a]),y=n.useCallback(()=>{v(f.current),f.current=void 0},[v]),_=D(()=>{y(),!(!a||C||h.current===Le||h.current===xt)&&(f.current=m(()=>{a&&(h.current=void 0,S())},i))});n.useEffect(_,[x,a,_]),n.useEffect(()=>{a&&C&&u(!1)},[x,a,C]);const T=D(()=>{var M;return(M=r.slideshowStart)===null||M===void 0?void 0:M.call(r)}),F=D(()=>{var M;return(M=r.slideshowStop)===null||M===void 0?void 0:M.call(r)});n.useEffect(()=>{a?T():c.current&&F(),c.current=a},[a,T,F]),n.useEffect(()=>Re(y,p(Sn,()=>{h.current=Le,y()}),p(In,()=>{h.current=xt,y()}),p(xr,()=>{h.current=De,_()}),p(_n,()=>{h.current=Fe,_()})),[p,y,_]);const E=n.useMemo(()=>({playing:a,disabled:C,play:g,pause:k}),[a,C,g,k]);return n.useImperativeHandle(l,()=>E,[E]),n.createElement(uo.Provider,{value:E},o)}const zs=ee("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),Ws=ee("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function Hs(){const{playing:e,disabled:t,play:r,pause:o}=$s(),{render:s}=Z(),i=Gn(ie().focus,t);return s.buttonSlideshow?n.createElement(n.Fragment,null,s.buttonSlideshow({playing:e,disabled:t,play:r,pause:o})):n.createElement(Se,{label:e?"Pause":"Play",icon:e?Ws:zs,renderIcon:e?s.iconSlideshowPause:s.iconSlideshowPlay,onClick:e?o:r,disabled:t,...i})}function pn({augment:e,addModule:t}){e(({slideshow:r,toolbar:o,...s})=>({toolbar:ze(o,Kt,n.createElement(Hs,null)),slideshow:ao(r),...s})),t(se(Kt,Vs))}const Zs={auto:!1,ref:null},fo=e=>({...Zs,...e}),ho=n.createContext(null),Bs=re("useFullscreen","FullscreenContext",ho);function Us({fullscreen:e,on:t,children:r}){const{auto:o,ref:s}=fo(e),i=n.useRef(null),[l,c]=n.useState(),[a,u]=n.useState(!1),f=n.useRef(!1),{getOwnerDocument:h}=We();ce(()=>{var g,k,y,_;const T=h();c(!((_=(y=(k=(g=T.fullscreenEnabled)!==null&&g!==void 0?g:T.webkitFullscreenEnabled)!==null&&k!==void 0?k:T.mozFullScreenEnabled)!==null&&y!==void 0?y:T.msFullscreenEnabled)!==null&&_!==void 0&&_))},[h]);const b=n.useCallback(()=>{var g;const k=h(),y=k.fullscreenElement||k.webkitFullscreenElement||k.mozFullScreenElement||k.msFullscreenElement;return((g=y==null?void 0:y.shadowRoot)===null||g===void 0?void 0:g.fullscreenElement)||y},[h]),x=n.useCallback(()=>{const g=i.current;try{g.requestFullscreen?g.requestFullscreen().catch(()=>{}):g.webkitRequestFullscreen?g.webkitRequestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.msRequestFullscreen&&g.msRequestFullscreen()}catch{}},[]),m=n.useCallback(()=>{if(!b())return;const g=h();try{g.exitFullscreen?g.exitFullscreen().catch(()=>{}):g.webkitExitFullscreen?g.webkitExitFullscreen():g.mozCancelFullScreen?g.mozCancelFullScreen():g.msExitFullscreen&&g.msExitFullscreen()}catch{}},[b,h]);n.useEffect(()=>{const g=h(),k=()=>{u(b()===i.current)};return Re(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(y=>(g.addEventListener(y,k),()=>g.removeEventListener(y,k))))},[b,h]);const v=D(()=>{var g;return(g=t.enterFullscreen)===null||g===void 0?void 0:g.call(t)}),p=D(()=>{var g;return(g=t.exitFullscreen)===null||g===void 0?void 0:g.call(t)});n.useEffect(()=>{a&&(f.current=!0),f.current&&(a?v:p)()},[a,v,p]);const S=D(()=>{var g;return(g=o?x:null)===null||g===void 0||g(),m});n.useEffect(S,[S]);const C=n.useMemo(()=>({fullscreen:a,disabled:l,enter:x,exit:m}),[a,l,x,m]);return n.useImperativeHandle(s,()=>C,[C]),n.createElement("div",{ref:i,className:q(L(Ae),L(Mn))},n.createElement(ho.Provider,{value:C},r))}const Ys=ee("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),Xs=ee("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function qs(){var e;const{fullscreen:t,disabled:r,enter:o,exit:s}=Bs(),{render:i}=Z();return r?null:i.buttonFullscreen?n.createElement(n.Fragment,null,(e=i.buttonFullscreen)===null||e===void 0?void 0:e.call(i,{fullscreen:t,disabled:r,enter:o,exit:s})):n.createElement(Se,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?Xs:Ys,renderIcon:t?i.iconExitFullscreen:i.iconEnterFullscreen,onClick:t?s:o})}function vn({augment:e,contains:t,addParent:r}){e(({fullscreen:o,toolbar:s,...i})=>({toolbar:ze(s,Ae,n.createElement(qs,null)),fullscreen:fo(o),...i})),r(t($e)?$e:Je,se(Ae,Us))}const xe={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},$t=e=>({...xe,...e});function mo(){const{thumbnails:e}=Z();return $t(e)}const be=e=>we($e,e),X=e=>be(we("thumbnail",e)),Ks=ee("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Gs=ee("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Qs({slide:e,render:t,rect:r,imageFit:o}){var s;const i=(s=t.thumbnail)===null||s===void 0?void 0:s.call(t,{slide:e,render:t,rect:r,imageFit:o});if(i)return i;const l={render:t,rect:r,imageFit:o};if(e.thumbnail)return n.createElement(ge,{slide:{src:e.thumbnail},...l});if(Ce(e))return n.createElement(ge,{slide:e,...l});const c=L(X(Ge));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(ge,{slide:{src:e.poster},...l}),n.createElement(Ks,{className:c})):n.createElement(Gs,{className:c})}const Js=ye("active"),ft=ye("fadein"),ht=ye("fadeout"),ei=ye("placeholder"),xn="delay",gn="duration";function ti({slide:e,onClick:t,active:r,fadeIn:o,fadeOut:s,placeholder:i,onLoseFocus:l}){const c=n.useRef(null),{render:a,styles:u}=Z(),{getOwnerDocument:f}=We(),{width:h,height:b,imageFit:x}=mo(),m={width:h,height:b},v=D(l);return n.useEffect(()=>{s&&f().activeElement===c.current&&v()},[s,v,f]),n.createElement("button",{ref:c,type:"button",className:q(L(Ee),L(X()),r&&L(X(Js())),o&&L(X(ft())),s&&L(X(ht())),i&&L(X(ei()))),style:{...o?{[$(X(ft(gn)))]:`${o.duration}ms`,[$(X(ft(xn)))]:`${o.delay}ms`}:null,...s?{[$(X(ht(gn)))]:`${s.duration}ms`,[$(X(ht(xn)))]:`${s.delay}ms`}:null,...u.thumbnail},onClick:t},e&&Qs({slide:e,render:a,rect:m,imageFit:x}))}function bn(e){return["top","bottom"].includes(e)}function En(e,t){return t+2*(e.border+e.padding)+e.gap}function ni(e){const{thumbnail:t,poster:r}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof r=="string"&&r||e&&$n(e)||void 0}function wn({visible:e,containerRef:t}){const r=n.useRef(null),o=tt(),{publish:s,subscribe:i}=Pe(),{carousel:l,styles:c}=Z(),{slides:a,globalIndex:u,animation:f}=ae(),{registerSensors:h,subscribeSensors:b}=Qn();no(b);const x=mo(),{position:m,width:v,height:p,border:S,borderStyle:C,borderColor:g,borderRadius:k,padding:y,gap:_,vignette:T}=x,F=(f==null?void 0:f.duration)||0,E=F>0&&(f==null?void 0:f.increment)||0,{prepareAnimation:M}=wt(r,P=>({keyframes:bn(m)?[{transform:`translateX(${(o?-1:1)*En(x,v)*E+P}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${En(x,p)*E+P}px)`},{transform:"translateY(0)"}],duration:F,easing:f==null?void 0:f.easing})),O=D(()=>{let P=0;if(t.current&&r.current){const R=t.current.getBoundingClientRect(),j=r.current.getBoundingClientRect();P=bn(m)?j.left-R.left-(R.width-j.width)/2:j.top-R.top-(R.height-j.height)/2}M(P)});n.useEffect(()=>Re(i(gt,O)),[i,O]);const A=Vn(l,a),V=[];if(Rt(a))for(let P=u-A-Math.abs(E);P<=u+A+Math.abs(E);P+=1){const j=l.finite&&(P<0||P>a.length-1)||E<0&&P<u-A||E>0&&P>u+A?null:Nt(a,P),z=[`${P}`,ni(j)].filter(Boolean).join("|");V.push({key:z,index:P,slide:j})}const w=P=>()=>{P>u?s(me,{count:P-u}):P<u&&s(he,{count:u-P})};return n.createElement("div",{className:q(L(be("container")),L(Ee)),style:{...e?null:{display:"none"},...v!==xe.width?{[$(X("width"))]:`${v}px`}:null,...p!==xe.height?{[$(X("height"))]:`${p}px`}:null,...S!==xe.border?{[$(X("border"))]:`${S}px`}:null,...C?{[$(X("border_style"))]:C}:null,...g?{[$(X("border_color"))]:g}:null,...k!==xe.borderRadius?{[$(X("border_radius"))]:`${k}px`}:null,...y!==xe.padding?{[$(X("padding"))]:`${y}px`}:null,..._!==xe.gap?{[$(X("gap"))]:`${_}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:r,style:c.thumbnailsTrack,className:q(L(be("track")),L(Ee)),tabIndex:-1,...h},V.map(({key:P,index:R,slide:j})=>{const z=F/Math.abs(E||1),G=E>0&&R>u+A-E&&R<=u+A||E<0&&R<u-A-E&&R>=u-A?{duration:z,delay:((E>0?R-(u+A-E):u-A-E-R)-1)*z}:void 0,ne=E>0&&R<u-A||E<0&&R>u+A?{duration:z,delay:(E>0?E-(u-A-R):-E-(R-(u+A)))*z}:void 0;return n.createElement(ti,{key:P,slide:j,active:R===u,fadeIn:G,fadeOut:ne,placeholder:!j,onClick:w(R),onLoseFocus:()=>{var N;return(N=r.current)===null||N===void 0?void 0:N.focus()}})})),T&&n.createElement("div",{className:L(be("vignette"))}))}const po=n.createContext(null),oi=re("useThumbnails","ThumbnailsContext",po);function ri({children:e,...t}){const{ref:r,position:o,hidden:s}=$t(t.thumbnails),[i,l]=n.useState(!s),c=n.useRef(null),a=n.useMemo(()=>({visible:i,show:()=>l(!0),hide:()=>l(!1)}),[i]);return n.useImperativeHandle(r,()=>a,[a]),n.createElement(Bn,{...t},n.createElement(po.Provider,{value:a},n.createElement("div",{ref:c,className:q(L(be()),L(be(`${o}`)))},["start","top"].includes(o)&&n.createElement(wn,{containerRef:c,visible:i}),n.createElement("div",{className:L(be("wrapper"))},e),["end","bottom"].includes(o)&&n.createElement(wn,{containerRef:c,visible:i}))))}const vo=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),si=ee("ThumbnailsVisible",vo()),ii=Kn("ThumbnailsHidden",vo());function li(){const{visible:e,show:t,hide:r}=oi(),{render:o}=Z();return o.buttonThumbnails?n.createElement(n.Fragment,null,o.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(Se,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?si:ii,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?r:t})}function yn({augment:e,contains:t,append:r,addParent:o}){e(({thumbnails:i,toolbar:l,...c})=>{const a=$t(i);return{toolbar:ze(l,$e,a.showToggle?n.createElement(li,null):null),thumbnails:a,...c}});const s=se($e,ri);t(Ae)?r(Ae,s):o(Je,s)}const ci={root:"mnl__lightbox__root"};function ai({slides:e,disableZoom:t,disableVideo:r,disableTotal:o,disableCaptions:s,disableSlideshow:i,disableThumbnails:l,disableFullscreen:c,onGetCurrentIndex:a,className:u,...f}){const h=e?e.length:0;return d.jsx(ds,{slides:e,animation:{swipe:240},carousel:{finite:h<5},controller:{closeOnBackdropClick:!0},plugins:ui({disableZoom:t,disableVideo:r,disableCaptions:s,disableSlideshow:i,disableThumbnails:l,disableFullscreen:c}),on:{view:({index:b})=>{a&&a(b)}},toolbar:{buttons:[d.jsx(di,{totalItems:h,disableTotal:o},0),"close"]},render:{iconClose:()=>d.jsx(U,{width:24,icon:"carbon:close"}),iconZoomIn:()=>d.jsx(U,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>d.jsx(U,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>d.jsx(U,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>d.jsx(U,{width:24,icon:"carbon:pause"}),iconPrev:()=>d.jsx(U,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>d.jsx(U,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>d.jsx(U,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>d.jsx(U,{width:24,icon:"carbon:fit-to-screen"})},className:ci.root.concat(u?` ${u}`:""),...f})}function ui({disableZoom:e,disableVideo:t,disableCaptions:r,disableSlideshow:o,disableThumbnails:s,disableFullscreen:i}){let l=[mn,vn,pn,yn,hn,fn];return s&&(l=l.filter(c=>c!==yn)),r&&(l=l.filter(c=>c!==mn)),i&&(l=l.filter(c=>c!==vn)),o&&(l=l.filter(c=>c!==pn)),e&&(l=l.filter(c=>c!==fn)),t&&(l=l.filter(c=>c!==hn)),l}function di({totalItems:e,disableTotal:t}){const{currentIndex:r}=ae();return t?null:d.jsxs(fe,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[d.jsxs("strong",{children:[" ",r+1," "]})," / ",e]})}function fi(e){const[t,r]=n.useState(-1),o=n.useCallback(i=>{const l=e.findIndex(c=>c.type==="video"?c.poster===i:c.src===i);r(l)},[e]),s=n.useCallback(()=>{r(-1)},[]);return{selected:t,open:t>=0,onOpen:o,onClose:s,setSelected:r}}function hi({images:e}){var s;const t=or({thumbs:{slidesToShow:"auto"}}),r=(e==null?void 0:e.map(i=>({src:i})))||[],o=fi(r);return n.useEffect(()=>{var i;o.open&&((i=t.mainApi)==null||i.scrollTo(o.selected,!0))},[t.mainApi,o.open,o.selected]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsxs(fe,{sx:{mb:2.5,position:"relative"},children:[d.jsx(rr,{...t.arrows,options:t.options,totalSlides:t.dots.dotCount,selectedIndex:t.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),d.jsx(Ho,{carousel:t,sx:{borderRadius:2},children:r.map(i=>d.jsx(Ao,{alt:i.src,src:i.src,ratio:"1/1",onClick:()=>o.onOpen(i.src),sx:{cursor:"zoom-in",minWidth:320}},i.src))})]}),d.jsx(Zo,{ref:t.thumbs.thumbsRef,options:(s=t.options)==null?void 0:s.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:r.map((i,l)=>d.jsx(Bo,{index:l,src:i.src,selected:l===t.thumbs.selectedIndex,onClick:()=>t.thumbs.onClickThumb(l)},i.src))})]}),d.jsx(ai,{index:o.selected,slides:r,open:o.open,close:o.onClose,onGetCurrentIndex:i=>o.setSelected(i)})]})}function mi({description:e,sx:t}){return d.jsx(sr,{children:e,sx:{p:3,"& p, li, ol, table":{typography:"body2"},"& table":{mt:2,maxWidth:640,"& td":{px:2},"& td:first-of-type":{color:"text.secondary"},"tbody tr:nth-of-type(odd)":{bgcolor:"transparent"}},...t}})}const pi=[{title:"100% original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 days replacement",description:"Marshmallow biscuit donut drage fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function vi({product:e,error:t,loading:r}){const o=Wo(),s=Uo("description");return r?d.jsx(lt,{sx:{mt:5,mb:10},children:d.jsx(Oo,{})}):t?d.jsx(lt,{sx:{mt:5,mb:10},children:d.jsx(Yo,{filled:!0,title:"Product not found!",action:d.jsx(Ke,{component:Mo,href:pt.product.root,startIcon:d.jsx(U,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10}})}):d.jsxs(lt,{sx:{mt:5,mb:10},children:[d.jsx(jo,{totalItems:o.totalItems}),d.jsx(Xo,{links:[{name:"Home",href:"/"},{name:"Shop",href:pt.product.root},{name:e==null?void 0:e.name}],sx:{mb:5}}),d.jsxs(ct,{container:!0,spacing:{xs:3,md:5,lg:8},children:[d.jsx(ct,{xs:12,md:6,lg:7,children:d.jsx(hi,{images:e==null?void 0:e.images})}),d.jsx(ct,{xs:12,md:6,lg:5,children:e&&d.jsx(fr,{product:e,items:o.items,onAddCart:o.onAddToCart,onGotoStep:o.onGotoStep,disableActions:!(e!=null&&e.available)})})]}),d.jsx(fe,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:pi.map(i=>d.jsxs(fe,{sx:{textAlign:"center",px:5},children:[d.jsx(U,{icon:i.icon,width:32,sx:{color:"primary.main"}}),d.jsx(te,{variant:"subtitle1",sx:{mb:1,mt:2},children:i.title}),d.jsx(te,{variant:"body2",sx:{color:"text.secondary"},children:i.description})]},i.title))}),d.jsxs(ir,{children:[d.jsx(lr,{value:s.value,onChange:s.onChange,sx:{px:3,boxShadow:i=>`inset 0 -2px 0 0 ${Lo(i.vars.palette.grey["500Channel"],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${e==null?void 0:e.reviews.length})`}].map(i=>d.jsx(cr,{value:i.value,label:i.label},i.value))}),s.value==="description"&&d.jsx(mi,{description:e==null?void 0:e.description}),s.value==="reviews"&&d.jsx(dr,{ratings:e==null?void 0:e.ratings,reviews:e==null?void 0:e.reviews,totalRatings:e==null?void 0:e.totalRatings,totalReviews:e==null?void 0:e.totalReviews})]})]})}const xi={title:`Product details - ${ko.appName}`};function tl(){const{id:e=""}=Ro(),{product:t,productLoading:r,productError:o}=Do(e);return d.jsxs(d.Fragment,{children:[d.jsx(To,{children:d.jsxs("title",{children:[" ",xi.title]})}),d.jsx(vi,{product:t,loading:r,error:o})]})}export{tl as default};
