import{r as d,K as oe,bx as K,b_ as me,D as t,bu as c,dh as Se,ek as Fe,el as se,bE as ue,bF as xe,a9 as z,bt as X,bw as fe,bI as ke,em as Re,by as Q,db as Ae,bz as he,c0 as Le,dv as $e,bn as Ie,P as Me,F as G,dJ as Be,N as le,a0 as W,T as L,V as A,dF as be,Z as H,dP as Ue,dQ as Oe,dR as Ne,dS as ze,b9 as _e,aj as We,W as ge,X as Ke,Y as ce,a6 as Ge,a5 as de,ab as He,R as Ve}from"./index-DJm73Gd8.js";import{u as Ze}from"./use-params-BytqtBag.js";import{d as Je,e as Qe,a as Xe,f as Ye,g as qe}from"./post-item-C4bBoZzM.js";import"./label-Devs2yXx.js";import{a as et,F as tt,C as ot}from"./ko-DBbRYMOz.js";import"./html-to-markdown-h9-3Gqz-.js";import{L as nt}from"./image-DPed605N.js";import{d as it}from"./format-number-BdgaU6hH.js";import{M as rt}from"./markdown-D0aLXFET.js";import{E as at}from"./empty-content-C5UHTerm.js";import{C as st}from"./custom-breadcrumbs-BsaNbwZB.js";import{A as ne}from"./Avatar-CHZSgeuZ.js";import{T as lt}from"./TextField-B_joUv90.js";import{P as ct}from"./Pagination-DbFHjtRs.js";import{F as ve}from"./Fab-CgmZqP3o.js";import{A as dt}from"./AvatarGroup-BTRke2k5.js";import"./index-B_i2wJma.js";import"./index-DXqQCM1T.js";import"./schema-helper-B8SOemTF.js";import"./fields-DRFNYTBH.js";import"./Rating-CEq9eddU.js";import"./visuallyHidden-Dan1xhjv.js";import"./InputAdornment-B7kdQGsa.js";import"./DatePicker-CkfG7Gz3.js";import"./ListContext-CDIiNrC7.js";import"./listItemButtonClasses-QLc47q-U.js";import"./Tabs-BcQ-S5hI.js";import"./KeyboardArrowRight-S08dGk5c.js";import"./form-provider-Bv2QLm_X.js";import"./LoadingButton-8OnUjDzw.js";import"./Card-DCic7xzO.js";import"./AuthService-foVeZrRB.js";import"./LastPage-Cd_46hef.js";const pt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],mt={entering:{transform:"none"},entered:{transform:"none"}},ut=d.forwardRef(function(o,a){const i=oe(),n={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:p,appear:l=!0,children:g,easing:v,in:$,onEnter:E,onEntered:M,onEntering:j,onExit:P,onExited:m,onExiting:y,style:b,timeout:C=n,TransitionComponent:w=Se}=o,S=K(o,pt),F=d.useRef(null),B=me(F,g.ref,a),h=s=>u=>{if(s){const D=F.current;u===void 0?s(D):s(D,u)}},Y=h(j),U=h((s,u)=>{Fe(s);const D=se({style:b,timeout:C,easing:v},{mode:"enter"});s.style.webkitTransition=i.transitions.create("transform",D),s.style.transition=i.transitions.create("transform",D),E&&E(s,u)}),q=h(M),f=h(y),k=h(s=>{const u=se({style:b,timeout:C,easing:v},{mode:"exit"});s.style.webkitTransition=i.transitions.create("transform",u),s.style.transition=i.transitions.create("transform",u),P&&P(s)}),O=h(m),N=s=>{p&&p(F.current,s)};return t.jsx(w,c({appear:l,in:$,nodeRef:F,onEnter:U,onEntered:q,onEntering:Y,onExit:k,onExited:O,onExiting:f,addEndListener:N,timeout:C},S,{children:(s,u)=>d.cloneElement(g,c({style:c({transform:"scale(0)",visibility:s==="exited"&&!$?"hidden":void 0},mt[s],b,g.props.style),ref:B},u))}))});function xt(e){return xe("MuiSpeedDial",e)}const Z=ue("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),ft=["ref"],ht=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],bt=["ref"],gt=e=>{const{classes:o,open:a,direction:i}=e,n={root:["root",`direction${X(i)}`],fab:["fab"],actions:["actions",!a&&"actionsClosed"]};return he(n,xt,o)};function _(e){if(e==="up"||e==="down")return"vertical";if(e==="right"||e==="left")return"horizontal"}const R=32,J=16,vt=z("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[`direction${X(a.direction)}`]]}})(({theme:e,ownerState:o})=>c({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},o.direction==="up"&&{flexDirection:"column-reverse",[`& .${Z.actions}`]:{flexDirection:"column-reverse",marginBottom:-R,paddingBottom:J+R}},o.direction==="down"&&{flexDirection:"column",[`& .${Z.actions}`]:{flexDirection:"column",marginTop:-R,paddingTop:J+R}},o.direction==="left"&&{flexDirection:"row-reverse",[`& .${Z.actions}`]:{flexDirection:"row-reverse",marginRight:-R,paddingRight:J+R}},o.direction==="right"&&{flexDirection:"row",[`& .${Z.actions}`]:{flexDirection:"row",marginLeft:-R,paddingLeft:J+R}})),jt=z(ve,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,o)=>o.fab})(()=>({pointerEvents:"auto"})),yt=z("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.actions,!a.open&&o.actionsClosed]}})(({ownerState:e})=>c({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),Ct=d.forwardRef(function(o,a){const i=fe({props:o,name:"MuiSpeedDial"}),n=oe(),p={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{ariaLabel:l,FabProps:{ref:g}={},children:v,className:$,direction:E="up",hidden:M=!1,icon:j,onBlur:P,onClose:m,onFocus:y,onKeyDown:b,onMouseEnter:C,onMouseLeave:w,onOpen:S,open:F,TransitionComponent:B=ut,transitionDuration:h=p,TransitionProps:Y}=i,U=K(i.FabProps,ft),q=K(i,ht),[f,k]=ke({controlled:F,default:!1,name:"SpeedDial",state:"open"}),O=c({},i,{open:f,direction:E}),N=gt(O),s=Re(),u=d.useRef(0),D=d.useRef(),I=d.useRef([]);I.current=[I.current[0]];const je=d.useCallback(r=>{I.current[0]=r},[]),ye=me(g,je),Ce=(r,x)=>T=>{I.current[r+1]=T,x&&x(T)},De=r=>{b&&b(r);const x=r.key.replace("Arrow","").toLowerCase(),{current:T=x}=D;if(r.key==="Escape"){k(!1),I.current[0].focus(),m&&m(r,"escapeKeyDown");return}if(_(x)===_(T)&&_(x)!==void 0){r.preventDefault();const te=x===T?1:-1,V=Le(u.current+te,0,I.current.length-1);I.current[V].focus(),u.current=V,D.current=T}};d.useEffect(()=>{f||(u.current=0,D.current=void 0)},[f]);const ie=r=>{r.type==="mouseleave"&&w&&w(r),r.type==="blur"&&P&&P(r),s.clear(),r.type==="blur"?s.start(0,()=>{k(!1),m&&m(r,"blur")}):(k(!1),m&&m(r,"mouseLeave"))},Te=r=>{U.onClick&&U.onClick(r),s.clear(),f?(k(!1),m&&m(r,"toggle")):(k(!0),S&&S(r,"toggle"))},re=r=>{r.type==="mouseenter"&&C&&C(r),r.type==="focus"&&y&&y(r),s.clear(),f||s.start(0,()=>{k(!0),S&&S(r,{focus:"focus",mouseenter:"mouseEnter"}[r.type])})},ee=l.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ae=d.Children.toArray(v).filter(r=>d.isValidElement(r)),Ee=ae.map((r,x)=>{const T=r.props,{FabProps:{ref:te}={},tooltipPlacement:V}=T,Pe=K(T.FabProps,bt),we=V||(_(E)==="vertical"?"left":"top");return d.cloneElement(r,{FabProps:c({},Pe,{ref:Ce(x,te)}),delay:30*(f?x:ae.length-x),open:f,tooltipPlacement:we,id:`${ee}-action-${x}`})});return t.jsxs(vt,c({className:Q(N.root,$),ref:a,role:"presentation",onKeyDown:De,onBlur:ie,onFocus:re,onMouseEnter:re,onMouseLeave:ie,ownerState:O},q,{children:[t.jsx(B,c({in:!M,timeout:h,unmountOnExit:!0},Y,{children:t.jsx(jt,c({color:"primary","aria-label":l,"aria-haspopup":"true","aria-expanded":f,"aria-controls":`${ee}-actions`},U,{onClick:Te,className:Q(N.fab,U.className),ref:ye,ownerState:O,children:d.isValidElement(j)&&Ae(j,["SpeedDialIcon"])?d.cloneElement(j,{open:f}):j}))})),t.jsx(yt,{id:`${ee}-actions`,role:"menu","aria-orientation":_(E),className:Q(N.actions,!f&&N.actionsClosed),ownerState:O,children:Ee})]}))});function Dt(e){return xe("MuiSpeedDialAction",e)}const Tt=ue("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Et=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],Pt=e=>{const{open:o,tooltipPlacement:a,classes:i}=e,n={fab:["fab",!o&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${X(a)}`,!o&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return he(n,Dt,i)},wt=z(ve,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.fab,!a.open&&o.fabClosed]}})(({theme:e,ownerState:o})=>c({margin:8,color:(e.vars||e).palette.text.secondary,backgroundColor:(e.vars||e).palette.background.paper,"&:hover":{backgroundColor:e.vars?e.vars.palette.SpeedDialAction.fabHoverBg:$e(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!o.open&&{opacity:0,transform:"scale(0)"})),St=z("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.staticTooltip,!a.open&&o.staticTooltipClosed,o[`tooltipPlacement${X(a.tooltipPlacement)}`]]}})(({theme:e,ownerState:o})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Tt.staticTooltipLabel}`]:c({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!o.open&&{opacity:0,transform:"scale(0.5)"},o.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},o.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),Ft=z("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,o)=>o.staticTooltipLabel})(({theme:e})=>c({position:"absolute"},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.paper,borderRadius:(e.vars||e).shape.borderRadius,boxShadow:(e.vars||e).shadows[1],color:(e.vars||e).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),kt=d.forwardRef(function(o,a){const i=fe({props:o,name:"MuiSpeedDialAction"}),{className:n,delay:p=0,FabProps:l={},icon:g,id:v,open:$,TooltipClasses:E,tooltipOpen:M=!1,tooltipPlacement:j="left",tooltipTitle:P}=i,m=K(i,Et),y=c({},i,{tooltipPlacement:j}),b=Pt(y),[C,w]=d.useState(M),S=()=>{w(!1)},F=()=>{w(!0)},B={transitionDelay:`${p}ms`},h=t.jsx(wt,c({size:"small",className:Q(b.fab,n),tabIndex:-1,role:"menuitem",ownerState:y},l,{style:c({},B,l.style),children:g}));return M?t.jsxs(St,c({id:v,ref:a,className:b.staticTooltip,ownerState:y},m,{children:[t.jsx(Ft,{style:B,id:`${v}-label`,className:b.staticTooltipLabel,ownerState:y,children:P}),d.cloneElement(h,{"aria-labelledby":`${v}-label`})]})):(!$&&C&&w(!1),t.jsx(Ie,c({id:v,ref:a,title:P,placement:j,onClose:S,onOpen:F,open:$&&C,classes:E},m,{children:h})))});function Rt({title:e,author:o,coverUrl:a,createdAt:i}){const n=oe(),p=Me("up","sm");return t.jsx(G,{sx:{...Be({color:`0deg, ${le(n.vars.palette.grey["900Channel"],.64)}, ${le(n.vars.palette.grey["900Channel"],.64)}`,imgUrl:a}),height:480,overflow:"hidden"},children:t.jsxs(W,{sx:{height:1,position:"relative"},children:[t.jsx(L,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:e}),t.jsxs(A,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[o&&i&&t.jsxs(A,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[t.jsx(ne,{alt:o.name,src:o.avatarUrl,sx:{width:64,height:64,mr:2}}),t.jsx(nt,{sx:{color:"common.white"},primary:o.name,secondary:be(i),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),t.jsx(Ct,{direction:p?"left":"up",ariaLabel:"Share post",icon:t.jsx(H,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:Ue.map(l=>t.jsx(kt,{icon:t.jsxs(t.Fragment,{children:[l.value==="facebook"&&t.jsx(Oe,{}),l.value==="instagram"&&t.jsx(Ne,{}),l.value==="linkedin"&&t.jsx(ze,{}),l.value==="twitter"&&t.jsx(_e,{sx:{color:"text.primary"}})]}),tooltipTitle:l.label,tooltipPlacement:"top",FabProps:{color:"default"}},l.label))})]})]})})}function pe({name:e,avatarUrl:o,message:a,tagUser:i,postedAt:n,hasReply:p}){const l=We();return t.jsxs(G,{sx:{pt:3,display:"flex",position:"relative",...p&&{pl:8}},children:[t.jsx(ne,{alt:e,src:o,sx:{mr:2,width:48,height:48}}),t.jsxs(A,{flexGrow:1,sx:{pb:3,borderBottom:g=>`solid 1px ${g.vars.palette.divider}`},children:[t.jsx(L,{variant:"subtitle2",sx:{mb:.5},children:e}),t.jsx(L,{variant:"caption",sx:{color:"text.disabled"},children:be(n)}),t.jsxs(L,{variant:"body2",sx:{mt:1},children:[i&&t.jsxs(G,{component:"strong",sx:{mr:.5},children:["@",i]}),a]}),l.value&&t.jsx(G,{sx:{mt:2},children:t.jsx(lt,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!p&&t.jsx(ge,{size:"small",color:l.value?"primary":"inherit",startIcon:t.jsx(H,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function At({comments:e=[]}){return t.jsxs(t.Fragment,{children:[e.map(o=>{const a=!!o.replyComment.length;return t.jsxs(G,{children:[t.jsx(pe,{name:o.name,message:o.message,postedAt:o.postedAt,avatarUrl:o.avatarUrl}),a&&o.replyComment.map(i=>{const n=o.users.find(p=>p.id===i.userId);return t.jsx(pe,{name:(n==null?void 0:n.name)||"",message:i.message,postedAt:i.postedAt,avatarUrl:(n==null?void 0:n.avatarUrl)||"",tagUser:i.tagUser,hasReply:!0},i.id)})]},o.id)}),t.jsx(ct,{count:8,sx:{my:{xs:5,md:8},mx:"auto"}})]})}function Lt({post:e,latestPosts:o,loading:a,error:i}){return a?t.jsx(Je,{}):i?t.jsx(W,{sx:{my:5},children:t.jsx(at,{filled:!0,title:"Post not found!",action:t.jsx(ge,{component:Ke,href:ce.post.root,startIcon:t.jsx(H,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10}})}):t.jsxs(t.Fragment,{children:[t.jsx(Rt,{title:(e==null?void 0:e.title)??"",author:e==null?void 0:e.author,coverUrl:(e==null?void 0:e.coverUrl)??"",createdAt:e==null?void 0:e.createdAt}),t.jsx(W,{maxWidth:!1,sx:{py:3,mb:5,borderBottom:n=>`solid 1px ${n.vars.palette.divider}`},children:t.jsx(st,{links:[{name:"Home",href:"/"},{name:"Blog",href:ce.post.root},{name:e==null?void 0:e.title}],sx:{maxWidth:720,mx:"auto"}})}),t.jsx(W,{maxWidth:!1,children:t.jsxs(A,{sx:{maxWidth:720,mx:"auto"},children:[t.jsx(L,{variant:"subtitle1",children:e==null?void 0:e.description}),t.jsx(rt,{children:e==null?void 0:e.content}),t.jsxs(A,{spacing:3,sx:{py:3,borderTop:n=>`dashed 1px ${n.vars.palette.divider}`,borderBottom:n=>`dashed 1px ${n.vars.palette.divider}`},children:[t.jsx(A,{direction:"row",flexWrap:"wrap",spacing:1,children:e==null?void 0:e.tags.map(n=>t.jsx(et,{label:n,variant:"soft"},n))}),t.jsxs(A,{direction:"row",alignItems:"center",children:[t.jsx(tt,{control:t.jsx(ot,{defaultChecked:!0,size:"small",color:"error",icon:t.jsx(H,{icon:"solar:heart-bold"}),checkedIcon:t.jsx(H,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}}),label:it(e==null?void 0:e.totalFavorites),sx:{mr:1}}),t.jsx(dt,{children:e==null?void 0:e.favoritePerson.map(n=>t.jsx(ne,{alt:n.name,src:n.avatarUrl},n.name))})]})]}),t.jsxs(A,{direction:"row",sx:{mb:3,mt:5},children:[t.jsx(L,{variant:"h4",children:"Comments"}),t.jsxs(L,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",e==null?void 0:e.comments.length,")"]})]}),t.jsx(Qe,{}),t.jsx(Ge,{sx:{mt:5,mb:2}}),t.jsx(At,{comments:e==null?void 0:e.comments})]})}),!!(o!=null&&o.length)&&t.jsxs(W,{sx:{pb:15},children:[t.jsx(L,{variant:"h4",sx:{mb:5},children:"Recent Posts"}),t.jsx(de,{container:!0,spacing:3,children:o==null?void 0:o.slice(o.length-4).map(n=>t.jsx(de,{xs:12,sm:6,md:4,lg:3,children:t.jsx(Xe,{post:n})},n.id))})]})]})}const $t={title:`Post details - ${Ve.appName}`};function fo(){const{title:e=""}=Ze(),{post:o,postLoading:a,postError:i}=Ye(e),{latestPosts:n}=qe(e);return t.jsxs(t.Fragment,{children:[t.jsx(He,{children:t.jsxs("title",{children:[" ",$t.title]})}),t.jsx(Lt,{post:o,latestPosts:n,loading:a,error:i})]})}export{fo as default};
