import{g as l,s as u,a as y,b as g}from"./fields-DRFNYTBH.js";import{D as d}from"./index-DJm73Gd8.js";const m=(o,s,e)=>{if(o&&"reportValidity"in o){const r=l(e,s);o.setCustomValidity(r&&r.message||""),o.reportValidity()}},h=(o,s)=>{for(const e in s.fields){const r=s.fields[e];r&&r.ref&&"reportValidity"in r.ref?m(r.ref,e,o):r.refs&&r.refs.forEach(i=>m(i,e,o))}},E=(o,s)=>{s.shouldUseNativeValidation&&h(o,s);const e={};for(const r in o){const i=l(s.fields,r),n=Object.assign(o[r]||{},{ref:i&&i.ref});if(j(s.names||Object.keys(o),r)){const t=Object.assign({},l(e,r));u(t,"root",n),u(e,r,t)}else u(e,r,n)}return e},j=(o,s)=>o.some(e=>e.startsWith(s+"."));var V=function(o,s){for(var e={};o.length;){var r=o[0],i=r.code,n=r.message,t=r.path.join(".");if(!e[t])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];e[t]={message:a.message,type:a.code}}else e[t]={message:n,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(v){return o.push(v)})}),s){var f=e[t].types,c=f&&f[r.code];e[t]=y(t,s,e,i,c?[].concat(c,r.message):r.message)}o.shift()}return e},P=function(o,s,e){return e===void 0&&(e={}),function(r,i,n){try{return Promise.resolve(function(t,a){try{var f=Promise.resolve(o[e.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(c){return n.shouldUseNativeValidation&&h({},n),{errors:{},values:e.raw?r:c}})}catch(c){return a(c)}return f&&f.then?f.then(void 0,a):f}(0,function(t){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(t))return{values:{},errors:E(V(t.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw t}))}catch(t){return Promise.reject(t)}}};function A({children:o,onSubmit:s,methods:e}){return d.jsx(g,{...e,children:d.jsx("form",{onSubmit:s,noValidate:!0,autoComplete:"off",children:o})})}export{A as F,P as t};
