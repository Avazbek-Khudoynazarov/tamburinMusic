import{dL as T,dM as g,u as V,a as E,r as j,D as c,T as k,F as p,J as $,dN as L}from"./index-DJm73Gd8.js";import{u as O,v as F}from"./fade-C6rELe29.js";function I(t){t.values.forEach(s=>s.stop())}function d(t,s){[...s].reverse().forEach(e=>{const r=t.getVariant(e);r&&g(t,r),t.variantChildren&&t.variantChildren.forEach(i=>{d(i,s)})})}function R(t,s){if(Array.isArray(s))return d(t,s);if(typeof s=="string")return d(t,[s]);g(t,s)}function S(){const t=new Set,s={subscribe(a){return t.add(a),()=>void t.delete(a)},start(a,e){const r=[];return t.forEach(i=>{r.push(T(i,a,{transitionOverride:e}))}),Promise.all(r)},set(a){return t.forEach(e=>{R(e,a)})},stop(){t.forEach(a=>{I(a)})},mount(){return()=>{s.stop()}}};return s}function W(){const t=V(S);return E(t.mount,[]),t}const B=W,n={root:"animate-text-root",lines:"animate-text-lines",line:"animate-text-line",word:"animate-text-word",char:"animate-text-char",space:"animate-text-space",srOnly:"sr-only",dataIndex:'[data-columns="3"]'};function P({text:t,variants:s,once:a=!0,amount:e=1/3,component:r="p",repeatDelay:i=500,sx:v,className:x,...C}){const h=j.useRef(null),l=B(),f=Array.isArray(t)?t:[t],y=O(h,{once:a,amount:e});return j.useEffect(()=>{let o;return y?(()=>{i?o=setTimeout(async()=>{await l.start("initial"),l.start("animate")},i):l.start("animate")})():l.start("initial"),()=>clearTimeout(o)},[l,y,i]),c.jsxs(k,{component:r,className:n.root.concat(x?` ${x}`:""),sx:{p:0,m:0,[`& .${n.srOnly}`]:{p:0,width:"1px",height:"1px",margin:"-1px",borderWidth:0,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0, 0, 0, 0)"},...v},...C,children:[c.jsx("span",{className:n.srOnly,children:f.join(" ")}),c.jsx(p,{component:$.span,ref:h,initial:"initial",animate:l,exit:"exit",variants:L(),"aria-hidden":!0,className:n.lines,children:f.map((o,m)=>c.jsx(p,{component:"span","data-index":m,className:n.line,sx:{display:"block"},children:o.split(" ").map((u,b)=>{const N=o.split(" ")[o.split(" ").length-1];return c.jsxs(p,{component:"span","data-index":b,className:n.word,sx:{display:"inline-block"},children:[u.split("").map((w,A)=>c.jsx(p,{component:$.span,variants:s??F().in,"data-index":A,className:n.char,sx:{display:"inline-block"},children:w},`${w}-${A}`)),N!==u&&c.jsx(p,{component:"span",className:n.space,sx:{display:"inline-block"},children:"Â "})]},`${u}-${b}`)})},`${o}-${m}`))})]})}export{P as A,n as a};
