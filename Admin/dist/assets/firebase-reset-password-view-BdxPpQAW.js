import{aY as z,aZ as B,a_ as M,a$ as H,b0 as O,b1 as Y,b2 as Z,b3 as X,b4 as v,b5 as _,b6 as J,D as e,a6 as K,F as x,ak as f,b7 as Q,b8 as ee,b9 as se,ah as F,ai as re,r as L,aj as A,$ as S,X as P,Y as w,Z as R,al as N,aW as te}from"./index-DJm73Gd8.js";import{z as c}from"./index-DXqQCM1T.js";import{u as E,F as u}from"./fields-DRFNYTBH.js";import{F as W,t as T}from"./form-provider-Bv2QLm_X.js";import"./ko-DBbRYMOz.js";import"./image-DPed605N.js";import{F as G,S as ae}from"./sign-up-terms-DbnMw_Ti.js";import{I as D}from"./InputAdornment-B7kdQGsa.js";import{L as k}from"./LoadingButton-8OnUjDzw.js";import{F as ie}from"./form-return-link-BtxFyLWB.js";const g={},ne={},oe=async({email:s,password:t})=>{try{await z(g,s,t);const r=g.currentUser;if(!(r!=null&&r.emailVerified))throw new Error("Email not verified!")}catch(r){throw console.error("Error during sign in with password:",r),r}},U=async()=>{const s=new X;await v(g,s)},q=async()=>{const s=new _;await v(g,s)},C=async()=>{const s=new J;await v(g,s)},le=async({email:s,password:t,firstName:r,lastName:l})=>{var o,d;try{const i=await B(g,s,t);await M(i.user);const m=H(O(ne,"users"),(o=i.user)==null?void 0:o.uid);await Y(m,{uid:(d=i.user)==null?void 0:d.uid,email:s,displayName:`${r} ${l}`})}catch(i){throw console.error("Error during sign up:",i),i}},ce=async({email:s})=>{await Z(g,s)};function $({sx:s,label:t="OR"}){return e.jsx(K,{sx:{my:3,typography:"overline",color:"text.disabled","&::before, :after":{borderTopStyle:"dashed"},...s},children:t})}function V({sx:s,signInWithGoogle:t,singInWithGithub:r,signInWithTwitter:l,...o}){return e.jsxs(x,{gap:1.5,display:"flex",justifyContent:"center",sx:s,...o,children:[e.jsx(f,{color:"inherit",onClick:t,children:e.jsx(Q,{width:22})}),e.jsx(f,{color:"inherit",onClick:r,children:e.jsx(ee,{width:22})}),e.jsx(f,{color:"inherit",onClick:l,children:e.jsx(se,{width:22})})]})}const de=c.object({email:c.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:c.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function Se(){const s=F(),{checkUserSession:t}=re(),[r,l]=L.useState(""),o=A(),d={email:"",password:""},i=E({resolver:T(de),defaultValues:d}),{handleSubmit:m,formState:{isSubmitting:h}}=i,b=m(async a=>{try{await oe({email:a.email,password:a.password}),await(t==null?void 0:t()),s.refresh()}catch(p){console.error(p),l(typeof p=="string"?p:p.message)}}),y=async()=>{try{await U()}catch(a){console.error(a)}},j=async()=>{try{await q()}catch(a){console.error(a)}},I=async()=>{try{await C()}catch(a){console.error(a)}},n=e.jsxs(x,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(u.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsxs(x,{gap:1.5,display:"flex",flexDirection:"column",children:[e.jsx(S,{component:P,href:w.auth.firebase.resetPassword,variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(u.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:o.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(D,{position:"end",children:e.jsx(f,{onClick:o.onToggle,edge:"end",children:e.jsx(R,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(k,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:h,loadingIndicator:"Sign in...",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Sign in to your account",description:e.jsxs(e.Fragment,{children:["Donâ€™t have an account? ",e.jsx(S,{component:P,href:w.auth.firebase.signUp,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!r&&e.jsx(N,{severity:"error",sx:{mb:3},children:r}),e.jsx(W,{methods:i,onSubmit:b,children:n}),e.jsx($,{}),e.jsx(V,{signInWithGoogle:y,singInWithGithub:j,signInWithTwitter:I})]})}const me=c.object({firstName:c.string().min(1,{message:"First name is required!"}),lastName:c.string().min(1,{message:"Last name is required!"}),email:c.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:c.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function Pe(){const[s,t]=L.useState(""),r=F(),l=A(),o={firstName:"",lastName:"",email:"",password:""},d=E({resolver:T(me),defaultValues:o}),{handleSubmit:i,formState:{isSubmitting:m}}=d,h=i(async n=>{try{await le({email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName});const a=new URLSearchParams({email:n.email}).toString(),p=`${w.auth.firebase.verify}?${a}`;r.push(p)}catch(a){console.error(a),t(typeof a=="string"?a:a.message)}}),b=async()=>{try{await U()}catch(n){console.error(n)}},y=async()=>{try{await q()}catch(n){console.error(n)}},j=async()=>{try{await C()}catch(n){console.error(n)}},I=e.jsxs(x,{gap:3,display:"flex",flexDirection:"column",children:[e.jsxs(x,{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"},children:[e.jsx(u.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(u.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(u.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(u.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:l.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(D,{position:"end",children:e.jsx(f,{onClick:l.onToggle,edge:"end",children:e.jsx(R,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(k,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:m,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(S,{component:P,href:w.auth.firebase.signIn,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!s&&e.jsx(N,{severity:"error",sx:{mb:3},children:s}),e.jsx(W,{methods:d,onSubmit:h,children:I}),e.jsx(ae,{}),e.jsx($,{}),e.jsx(V,{signInWithGoogle:b,singInWithGithub:y,signInWithTwitter:j})]})}const he=c.object({email:c.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"})});function ve(){const s=F(),t={email:""},r=E({resolver:T(he),defaultValues:t}),{handleSubmit:l,formState:{isSubmitting:o}}=r,d=l(async m=>{try{await ce({email:m.email});const h=new URLSearchParams({email:m.email}).toString(),b=`${w.auth.firebase.verify}?${h}`;s.push(b)}catch(h){console.error(h)}}),i=e.jsxs(x,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(u.Text,{autoFocus:!0,name:"email",label:"Email address",placeholder:"example@gmail.com",InputLabelProps:{shrink:!0}}),e.jsx(k,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:o,loadingIndicator:"Send request...",children:"Send request"})]});return e.jsxs(e.Fragment,{children:[e.jsx(G,{icon:e.jsx(te,{}),title:"Forgot your password?",description:"Please enter the email address associated with your account and we'll email you a link to reset your password."}),e.jsx(W,{methods:r,onSubmit:d,children:i}),e.jsx(ie,{href:w.auth.firebase.signIn})]})}export{Se as F,Pe as a,ve as b};
